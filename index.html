   <!DOCTYPE html>
<html lang="pt-PT">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Patr√≠cia Pattas | Make up & Croch√™</title>
    <meta name="description" content="Vendas, servi√ßos e forma√ß√£o de maquilhagem profissional e moda croch√™.">
    <meta name="keywords" content="maquilhagem, croch√™, forma√ß√£o, angola, beleza, patr√≠cia pattas">
    
    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    
    <!-- FontAwesome & Google Fonts -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;600;700&display=swap" rel="stylesheet">

    <!-- Configura√ß√£o de Cores (Tailwind) -->
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        primary: '#8B5CF6', // Roxo vibrante
                        primaryDark: '#7C3AED', // Roxo escuro
                        secondary: '#DDD6FE', // Lil√°s claro
                        accent: '#4C1D95', // Roxo profundo
                        surface: '#F3E8FF', // Fundo lil√°s muito claro
                    },
                    fontFamily: {
                        sans: ['Poppins', 'sans-serif'],
                    }
                }
            }
        }
    </script>

    <style>
        /* Anima√ß√µes e Estilos Personalizados */
        body { font-family: 'Poppins', sans-serif; }
        .fade-in { animation: fadeIn 0.5s ease-in-out; }
        @keyframes fadeIn { from { opacity: 0; transform: translateY(10px); } to { opacity: 1; transform: translateY(0); } }
        
        /* Chatbot Patr√≠cia */
        .chat-bubble { position: relative; max-width: 80%; padding: 10px 15px; border-radius: 15px; margin-bottom: 10px; font-size: 0.9rem; }
        .chat-user { background-color: #8B5CF6; color: white; align-self: flex-end; border-bottom-right-radius: 2px; margin-left: auto; }
        .chat-bot { background-color: #F3F4F6; color: #1F2937; align-self: flex-start; border-bottom-left-radius: 2px; border: 1px solid #E5E7EB; }
        
        /* Scrollbar personalizada */
        ::-webkit-scrollbar { width: 8px; }
        ::-webkit-scrollbar-track { background: #F3E8FF; }
        ::-webkit-scrollbar-thumb { background: #8B5CF6; border-radius: 4px; }
        ::-webkit-scrollbar-thumb:hover { background: #7C3AED; }

        .glass-effect {
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(10px);
        }

        /* --- CONFIGURA√á√ÉO DE IMAGENS --- */
        .img-padrao {
            height: 220px;
            width: 100%;
            object-fit: cover;
        }
        
        .img-momento {
            height: 250px;
            width: 100%;
            object-fit: cover;
            border-radius: 0.75rem;
            transition: transform 0.3s ease;
        }
        .img-momento:hover {
            transform: scale(1.03);
            box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1);
        }

        /* Estilo para Abas (Tabs) */
        .tab-btn.active {
            border-bottom: 3px solid #8B5CF6;
            color: #7C3AED;
            font-weight: 700;
        }

        /* LIGHTBOX CUSTOMIZADO */
        .lightbox-open { overflow: hidden; }
    </style>
</head>
<body class="bg-gray-50 text-gray-800 flex flex-col min-h-screen">

    <!-- CABE√áALHO -->
    <header class="fixed w-full top-0 z-50 glass-effect shadow-md border-b border-purple-100 transition-all duration-300" id="main-header">
        <div class="container mx-auto px-4 py-3 flex justify-between items-center">
            
            <!-- Logotipo -->
            <div class="flex items-center gap-2 cursor-pointer" onclick="router('home')">
                <div class="w-10 h-10 bg-gradient-to-tr from-primary to-purple-400 rounded-full flex items-center justify-center text-white font-bold text-xl">
                    P
                </div>
                <div>
                    <h1 class="text-xl font-bold text-primaryDark leading-tight">Patr√≠cia Pattas</h1>
                    <p class="text-xs text-gray-500 font-medium tracking-wider">MAKE UP & CROCH√ä</p>
                </div>
            </div>

            <!-- Navega√ß√£o Desktop -->
            <nav class="hidden lg:flex items-center gap-6 text-sm font-semibold text-gray-600">
                <a href="#" onclick="router('home')" class="hover:text-primary transition">In√≠cio</a>
                <a href="#" onclick="router('shop')" class="hover:text-primary transition">Loja</a>
                <a href="#" onclick="router('services')" class="hover:text-primary transition">Servi√ßos</a>
                <a href="#" onclick="router('booking')" class="hover:text-primary transition">Agendamento</a>
                <a href="#" onclick="router('multimedia')" class="hover:text-primary transition">Multim√©dia</a>
                <a href="#" onclick="router('blog')" class="hover:text-primary transition">Blog</a>
                <a href="#" onclick="router('partners')" class="hover:text-primary transition">Parceiros</a>
                <a href="#" onclick="router('contact')" class="hover:text-primary transition">Contato</a>
            </nav>

            <!-- √çcones de A√ß√£o -->
            <div class="flex items-center gap-4">
                <div class="hidden md:flex gap-3 text-primary">
                    <a href="https://www.instagram.com/patricia_makeup_e_croche?igsh=ZHFsd2FwMjc4Z2V2" target="_blank"><i class="fab fa-instagram hover:scale-110 transition"></i></a>
                    <a href="https://www.facebook.com/ateliermakeupecrochet?locale=pt_BR " target="_blank"><i class="fab fa-facebook hover:scale-110 transition"></i></a>
                    <a href="https://www.tiktok.com/@kawaii..97?_r=1&_t=ZS-93IDSs92war" target="_blank"><i class="fab fa-tiktok hover:scale-110 transition"></i></a>
                </div>

                <!-- Bot√£o Tela Cheia -->
                <button onclick="toggleFullScreen()" class="text-gray-600 hover:text-primary transition" title="Tela Cheia">
                    <i id="fullscreen-icon" class="fas fa-expand text-xl"></i>
                </button>

                <!-- Carrinho -->
                <button onclick="router('cart')" class="relative text-primaryDark hover:text-primary transition">
                    <i class="fas fa-shopping-bag text-2xl"></i>
                    <span id="cart-count" class="absolute -top-2 -right-2 bg-red-500 text-white text-xs font-bold rounded-full w-5 h-5 flex items-center justify-center">0</span>
                </button>

                <!-- Menu Hamb√∫rguer (Mobile) -->
                <button onclick="toggleMobileMenu()" class="lg:hidden text-primaryDark text-2xl focus:outline-none">
                    <i class="fas fa-bars"></i>
                </button>
            </div>
        </div>

        <!-- Menu Mobile Dropdown -->
        <div id="mobile-menu" class="hidden lg:hidden bg-white border-t border-purple-100 absolute w-full left-0 shadow-lg">
            <div class="flex flex-col p-4 gap-3 text-center font-medium">
                <a href="#" onclick="router('home'); toggleMobileMenu()" class="py-2 text-gray-700 hover:bg-purple-50 rounded">In√≠cio</a>
                <a href="#" onclick="router('shop'); toggleMobileMenu()" class="py-2 text-gray-700 hover:bg-purple-50 rounded">Loja & Produtos</a>
                <a href="#" onclick="router('services'); toggleMobileMenu()" class="py-2 text-gray-700 hover:bg-purple-50 rounded">Servi√ßos & Forma√ß√£o</a>
                <a href="#" onclick="router('booking'); toggleMobileMenu()" class="py-2 text-gray-700 hover:bg-purple-50 rounded">Agendamento</a>
                <a href="#" onclick="router('multimedia'); toggleMobileMenu()" class="py-2 text-gray-700 hover:bg-purple-50 rounded">V√≠deos & Dicas</a>
                <a href="#" onclick="router('blog'); toggleMobileMenu()" class="py-2 text-gray-700 hover:bg-purple-50 rounded">Blog</a>
                <a href="#" onclick="router('partners'); toggleMobileMenu()" class="py-2 text-gray-700 hover:bg-purple-50 rounded">Publicidade & Vagas</a>
                <a href="#" onclick="router('contact'); toggleMobileMenu()" class="py-2 text-gray-700 hover:bg-purple-50 rounded">Contato</a>
            </div>
        </div>
    </header>

    <!-- CONTE√öDO PRINCIPAL (SPA) -->
    <main id="app-content" class="flex-grow pt-20 pb-10 min-h-[80vh]">
        <!-- O conte√∫do ser√° injetado aqui via JavaScript -->
    </main>

    <!-- LIGHTBOX OVERLAY (NOVO) -->
    <div id="lightbox" class="fixed inset-0 z-[100] bg-black/95 hidden flex items-center justify-center p-4 transition-opacity duration-300 opacity-0 backdrop-blur-sm" onclick="closeLightbox()">
        <button class="absolute top-6 right-6 text-white text-5xl hover:text-primary transition focus:outline-none">&times;</button>
        <img id="lightbox-img" src="" class="max-w-full max-h-[90vh] rounded-lg shadow-2xl transform scale-95 transition-all duration-300 object-contain">
        <p class="absolute bottom-6 text-white/80 text-sm font-light tracking-widest uppercase">Patr√≠cia Pattas Galeria</p>
    </div>

    <!-- ASSISTENTE PATR√çCIA (Chatbot) -->
    <div class="fixed bottom-6 right-6 z-40 flex flex-col items-end">
        <!-- Janela do Chat -->
        <div id="chat-window" class="hidden bg-white w-80 h-96 rounded-2xl shadow-2xl border border-purple-200 flex flex-col mb-4 overflow-hidden transform transition-all origin-bottom-right">
            <div class="bg-primary p-3 flex justify-between items-center text-white">
                <div class="flex items-center gap-2">
                    <div class="w-8 h-8 bg-white rounded-full flex items-center justify-center text-primary font-bold">P</div>
                    <div>
                        <p class="font-bold text-sm">Patr√≠cia Pattas</p>
                        <p class="text-xs text-purple-200 flex items-center gap-1"><span class="w-2 h-2 bg-green-400 rounded-full"></span> Online agora</p>
                    </div>
                </div>
                <button onclick="toggleChat()" class="text-white hover:text-purple-200"><i class="fas fa-times"></i></button>
            </div>
            <div id="chat-messages" class="flex-1 p-3 overflow-y-auto bg-gray-50 flex flex-col gap-2">
                <!-- Mensagens aparecer√£o aqui -->
            </div>
            <div class="p-3 bg-white border-t flex gap-2">
                <input type="text" id="chat-input" placeholder="Pergunte algo..." class="flex-1 border rounded-full px-4 py-2 text-sm focus:outline-none focus:border-primary" onkeypress="if(event.key === 'Enter') sendMessage()">
                <button onclick="sendMessage()" class="bg-primary text-white rounded-full w-10 h-10 flex items-center justify-center hover:bg-primaryDark transition"><i class="fas fa-paper-plane"></i></button>
            </div>
        </div>

        <!-- Bot√£o Flutuante -->
        <button onclick="toggleChat()" class="bg-primary hover:bg-primaryDark text-white w-14 h-14 rounded-full shadow-lg flex items-center justify-center text-2xl transition transform hover:scale-105 animate-bounce">
            <i class="fas fa-comment-dots"></i>
        </button>
        <!-- WhatsApp Fixo -->
        <a href="https://wa.me/244926837464" target="_blank" class="bg-green-500 hover:bg-green-600 text-white w-14 h-14 rounded-full shadow-lg flex items-center justify-center text-2xl mt-4 transition transform hover:scale-105">
            <i class="fab fa-whatsapp"></i>
        </a>
    </div>

    <!-- RODAP√â -->
    <footer class="bg-gray-900 text-gray-300 pt-16 pb-8">
        <div class="container mx-auto px-4 grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-8 mb-12">
            
            <!-- Sobre -->
            <div>
                <div class="flex items-center gap-2 mb-4">
                    <div class="w-8 h-8 bg-primary rounded-full flex items-center justify-center text-white font-bold">P</div>
                    <h3 class="text-xl font-bold text-white">Patr√≠cia Pattas</h3>
                </div>
                <p class="text-sm mb-4">Transformando beleza em arte atrav√©s da maquilhagem e do croch√™. Qualidade, estilo e forma√ß√£o profissional.</p>
                <div class="flex gap-4">
                    <a href="https://www.instagram.com/patricia_makeup_e_croche?igsh=ZHFsd2FwMjc4Z2V2" target="_blank" class="hover:text-primary transition"><i class="fab fa-instagram"></i></a>
                    <a href="https://www.facebook.com/ateliermakeupecrochet?locale=pt_BR " target="_blank" class="hover:text-primary transition"><i class="fab fa-facebook"></i></a>
                    <a href="https://www.tiktok.com/@kawaii..97?_r=1&_t=ZS-93IDSs92war" target="_blank" class="hover:text-primary transition"><i class="fab fa-tiktok"></i></a>
                    <a href="mailto:angelinapatas97@gmail.com" class="hover:text-primary transition"><i class="fas fa-envelope"></i></a>
                </div>
            </div>

            <!-- Links R√°pidos -->
            <div>
                <h4 class="text-white font-bold mb-4 uppercase text-sm tracking-wider">Navega√ß√£o</h4>
                <ul class="space-y-2 text-sm">
                    <li><a href="#" onclick="router('services')" class="hover:text-primary transition">Servi√ßos</a></li>
                    <li><a href="#" onclick="router('shop')" class="hover:text-primary transition">Loja Virtual</a></li>
                    <li><a href="#" onclick="router('multimedia')" class="hover:text-primary transition">Portf√≥lio & Multim√©dia</a></li>
                    <li><a href="#" onclick="router('blog')" class="hover:text-primary transition">Blog de Not√≠cias</a></li>
                    <li><a href="#" onclick="router('partners')" class="hover:text-primary transition">Parceiros & Vagas</a></li>
                </ul>
            </div>

            <!-- Legal -->
            <div>
                <h4 class="text-white font-bold mb-4 uppercase text-sm tracking-wider">Termos Legais</h4>
                <ul class="space-y-2 text-sm">
                    <li><a href="#" onclick="router('legal-terms')" class="hover:text-primary transition">Termos de Uso</a></li>
                    <li><a href="#" onclick="router('legal-privacy')" class="hover:text-primary transition">Pol√≠tica de Privacidade</a></li>
                    <li><a href="#" onclick="router('legal-refund')" class="hover:text-primary transition">Pol√≠tica de Reembolso</a></li>
                    <li><a href="#" onclick="router('faq')" class="hover:text-primary transition">Perguntas Frequentes (FAQ)</a></li>
                </ul>
            </div>

            <!-- Newsletter (Com Mensagem Interna) -->
            <div>
                <h4 class="text-white font-bold mb-4 uppercase text-sm tracking-wider">Subscri√ß√£o</h4>
                <p class="text-xs mb-4">Subscreva para n√£o perder promo√ß√µes e atualiza√ß√µes.</p>
                <form id="newsletter-form" class="flex flex-col gap-2">
                    <input type="hidden" name="_to" value="angelinapatas97@gmail.com">
                    <input type="hidden" name="_subject" value="üåü Nova Subscri√ß√£o VIP - Site Patr√≠cia Pattas">
                    <input type="hidden" name="Notificacao_Interna" value="Ol√° Patr√≠cia! Um novo utilizador solicitou inscri√ß√£o na lista de promo√ß√µes e novidades do site. Adicione este contacto √† lista VIP.">
                    <input type="hidden" name="_autoresponse" value="Obrigada por subscrever! Agora voc√™ faz parte da lista exclusiva da Patr√≠cia Pattas. Em breve enviaremos novidades.">
                    
                    <input type="email" name="email" placeholder="Seu e-mail" required class="bg-gray-800 border border-gray-700 text-white px-4 py-2 rounded focus:outline-none focus:border-primary text-sm">
                    <button type="submit" class="bg-primary hover:bg-primaryDark text-white py-2 rounded text-sm font-semibold transition flex justify-center items-center">
                        <span id="newsletter-btn-text">Inscrever</span>
                        <i id="newsletter-loader" class="fas fa-spinner fa-spin ml-2 hidden"></i>
                    </button>
                </form>
            </div>
        </div>
        
        <div class="container mx-auto px-4 border-t border-gray-800 pt-8 flex flex-col md:flex-row justify-between items-center text-xs">
            <p>&copy; 2026 Patr√≠cia Pattas. Todos os direitos reservados.</p>
            <div class="flex gap-4 mt-4 md:mt-0">
                <span>Desenvolvido com <i class="fas fa-heart text-red-500"></i> para a beleza.</span>
            </div>
        </div>
    </footer>

    <!-- SCRIPT DA APLICA√á√ÉO -->
    <script>
        // --- CONFIGURA√á√ÉO GLOBAL ---
        const SITE_EMAIL = "angelinapatas97@gmail.com"; 

        // --- BANCO DE DADOS DE PRODUTOS ---
        const catalogoMaquilhagem = [
            { name: "Base Matte Velvet", price: "S/stok", img: "https://images.unsplash.com/photo-1596462502278-27bfdd403cc2?auto=format&fit=crop&w=500&q=80" },
            { name: "Batom L√≠quido Red", price: "S/stok", img: "https://images.unsplash.com/photo-1512496015851-a90fb38ba796?auto=format&fit=crop&w=500&q=80" },
            { name: "M√°scara de C√≠lios Volume", price: "S/stok", img: "https://images.unsplash.com/photo-1631729371254-42c2892f0e6e?auto=format&fit=crop&w=500&q=80" },
            { name: "Paleta Sombras Nude", price: "S/stok", img: "https://images.unsplash.com/photo-1522335789203-aabd1fc54bc9?auto=format&fit=crop&w=500&q=80" },
            { name: "Iluminador Gold", price: "S/stok", img: "https://images.unsplash.com/photo-1616683693504-3ea7e9ad6fec?auto=format&fit=crop&w=500&q=80" },
            { name: "Corretivo Alta Cobertura", price: "S/stok", img: "https://images.unsplash.com/photo-1596462502278-27bfdd403cc2?auto=format&fit=crop&w=500&q=80" },
            { name: "Blush P√™ssego", price: "S/stok", img: "https://images.unsplash.com/photo-1512496015851-a90fb38ba796?auto=format&fit=crop&w=500&q=80" },
            { name: "Delineador Caneta", price: "S/stok", img: "https://images.unsplash.com/photo-1631729371254-42c2892f0e6e?auto=format&fit=crop&w=500&q=80" }
        ];
        const catalogoCroche = [
            { name: "Conjunto de saia e cal√ßa", price: "30.000", img: "https://scontent-cpt1-1.xx.fbcdn.net/v/t39.30808-6/470870945_2269706376718201_1226928014039339194_n.jpg?_nc_cat=110&ccb=1-7&_nc_sid=a5f93a&_nc_eui2=AeEJTyYp1a_Z0YxZS_yvIE1zycB9OyvKqErJwH07K8qoSn1r87GvFGSjs4zDOrfBzo-hPdlwp_MyfPwgtcnTnNKr&_nc_ohc=ialtoukNPl0Q7kNvwF-MWxV&_nc_oc=AdnKw2lQnmJNdmKr05oORaB1H3qapK2beBGYCcspBUuBHB5Lk17whljqOg0wYx5113s7d2yX8zUHxKigxWVZwHAx&_nc_zt=23&_nc_ht=scontent-cpt1-1.xx&_nc_gid=14p1UVElnNdSQBxmH0AaJQ&oh=00_AfqIDBudx40ZGvGatZmvYF-UG7U83CQ-t6FVItmDRB_6EQ&oe=697DB349" },
            { name: "Conjunto de Praia", price: "18.000", img: "https://scontent-cpt1-1.xx.fbcdn.net/v/t1.6435-9/171847438_1353815051640676_4439554293050690979_n.jpg?_nc_cat=104&ccb=1-7&_nc_sid=833d8c&_nc_eui2=AeH8sC59_CH8LYrcIP0aGqXnZkoAuHaqG-pmSgC4dqob6g3qagrgPuL1IN-mPXcaepyEb3BPXdmfK-zcdeQpOUQQ&_nc_ohc=WWoQe2tmq_IQ7kNvwG850nd&_nc_oc=Adnf2-hNKyTsKkixdDVsopIFSKz1KiSpJ7aA-TB-fhs3YHCzMXiRLiYTctW-xbvGyzP9vgI2c_YfS65sLINcC8dC&_nc_zt=23&_nc_ht=scontent-cpt1-1.xx&_nc_gid=efUyVvj_Lpf9ZdN3WSi65w&oh=00_Afr1LNJhKtd0tDz0EWsVGy3xC2MVorH5uWU-QaA_SdJ_zg&oe=699F18CD" },
            { name: "Croppede de praia", price: "15.000", img: "https://scontent-cpt1-1.xx.fbcdn.net/v/t1.6435-9/186486433_1376257462729768_347258997037062071_n.jpg?_nc_cat=100&ccb=1-7&_nc_sid=a5f93a&_nc_eui2=AeE010Z1lnsR6QlSGct2hfyDt0d0nRFP4h23R3SdEU_iHTMb7ODeDqgLXlDq079adWZh8HYWmEr3mgwPLy_fMnld&_nc_ohc=H7avR1sXUwMQ7kNvwH_YDV1&_nc_oc=AdlEPIJTPViJsZX7F7FIR0XuZ03e3VGS8ZU7vXQh5q0O9VSAYMelyZ_fB1yXYiXLTplpeRpgYc-hHiTc_URqFtU3&_nc_zt=23&_nc_ht=scontent-cpt1-1.xx&_nc_gid=zVIUuuwfrsFI3xp6yVSgFA&oh=00_Afp_5NbxYpq2vbA9dDCH6mTrmWUF4eYr8n0uSWWhAvUliA&oe=699F2A2E" },
            { name: "Conjunto de banho", price: "Solicitar pre√ßo", img: "https://scontent-cpt1-1.xx.fbcdn.net/v/t1.6435-9/153119019_1322081041480744_4842156258718409745_n.jpg?_nc_cat=102&ccb=1-7&_nc_sid=833d8c&_nc_eui2=AeF5TsZO6PSzduzkZDhPP85eANoUNy4NBOAA2hQ3Lg0E4NUFAOszCwKppwwhH-IBvoK_vxR4FuiXoIV6WFo_M_qj&_nc_ohc=vhgvxBuEX3IQ7kNvwHqNJBu&_nc_oc=AdmN2SFVY5ZgnkRCCZ8WdAJj8cL1jNAzmXoVM_o3KdncHxFQotp55yHRCR8xkK3xlJyZA_wmDNswC8k2TJr_JQ7F&_nc_zt=23&_nc_ht=scontent-cpt1-1.xx&_nc_gid=qQqlvgdwDdZxBXX8eN1gLg&oh=00_AfoEUqY8IfDS3xMkj4fMdZkxjsYWCQHlw_Bi8s8sh1LwQA&oe=699F39CB" },
            { name: "Crop Top Festival", price: "4.500", img: "https://scontent-cpt1-1.xx.fbcdn.net/v/t1.6435-9/172670460_1355466368142211_3019448796378848027_n.jpg?_nc_cat=111&ccb=1-7&_nc_sid=a5f93a&_nc_eui2=AeG4UnvU4obrvHjN9ovUd0-MeieiN4g-wFR6J6I3iD7AVC5cwpBu8jMAaO9PxcQL0gMpNJAM4YEaYdVyVmR1meGD&_nc_ohc=loxu_E3pTrMQ7kNvwEGz-Qi&_nc_oc=Adktqy-9Ew46o7vlYedzZtnH__Q98jf8OCIeDYtPTKxNbGttw5h40Uq5F2EKUbiRRnkMCZnfbhdJoFmHJyDe_3qL&_nc_zt=23&_nc_ht=scontent-cpt1-1.xx&_nc_gid=jMgSfh4P2QYlcNDFa8QE5A&oh=00_AfokJbNGyQyu3KoxqkRhq5WbUL4v1_07GDbu6aMwo38ytw&oe=699F3641" },
            { name: "Bolsa de Ombro Trama", price: "6.000", img: "https://scontent-cpt1-1.xx.fbcdn.net/v/t1.6435-9/177013438_1363531564002358_1945971796500641884_n.jpg?_nc_cat=105&ccb=1-7&_nc_sid=a5f93a&_nc_eui2=AeGXmNcalP7KmCzJQrD60DiI_zckabiZQiz_NyRpuJlCLCDNJayx7Hv-ZUlcz81qxsUf9-OSwOVeVOFYKZZrLNrh&_nc_ohc=yz8eaUHsNEwQ7kNvwGktA_m&_nc_oc=AdnBo19j0VZHGzUeXhdBQJax2oVzEMicVMSOLR5JNAqo-scROkDnRNFHZQZ-DvfyBpF35WHqZyduvuXfe2TjpCLK&_nc_zt=23&_nc_ht=scontent-cpt1-1.xx&_nc_gid=3lS-gOY-pLPbyKhZBh6gPw&oh=00_AfocOB1BXfPz1R_nRVxmlARl2g9u6THe3KbxB9p1fiTBrQ&oe=699F2812" }
            { name: "Base Melancia (6 lugares tamanho M)", price: "30.000", img: "https://raw.githubusercontent.com/Patriciapattas97/Patricia-Pattas/28a0735bcb468f932e2bb25f375decf763accba0/Base%20Melancia.jpg" },
            { name: "Base Natureza(6 lugares tamanho M(", price: "30.000", img: "https://raw.githubusercontent.com/Patriciapattas97/Patricia-Pattas/28a0735bcb468f932e2bb25f375decf763accba0/Base%20Natureza.jpg" },
            { name: "Base Pitaya (6 lugares tamanho M)", price: "30.000", img: "https://raw.githubusercontent.com/Patriciapattas97/Patricia-Pattas/28a0735bcb468f932e2bb25f375decf763accba0/Base%20Pitaya%20Crochet.jpg" },
            { name: "Base do amor(6 lugares tamanho M)", price: "30.000", img: "https://raw.githubusercontent.com/Patriciapattas97/Patricia-Pattas/28a0735bcb468f932e2bb25f375decf763accba0/Base%20do%20amor.jpg" },
            { name: "Base executivo(6 lugares tamanho M)", price: "30.000", img: "https://raw.githubusercontent.com/Patriciapattas97/Patricia-Pattas/28a0735bcb468f932e2bb25f375decf763accba0/Base%20executivo.jpg" }
        ];
        const catalogoSkincare = [
            { name: "S√©rum Vitamina C", price: "S/stok", img: "https://images.unsplash.com/photo-1570194065650-d99fb4b8ccb0?auto=format&fit=crop&w=500&q=80" },
            { name: "Hidratante Facial Gel", price: "S/stok", img: "https://images.unsplash.com/photo-1608248597279-f99d160bfbc8?auto=format&fit=crop&w=500&q=80" },
            { name: "Protetor Solar FPS 50", price: "S/stok", img: "https://images.unsplash.com/photo-1556228578-0d85b1a4d571?auto=format&fit=crop&w=500&q=80" },
            { name: "T√≥nico Adstringente", price: "3.500", img: "https://images.unsplash.com/photo-1611930022073-b7a4ba5fcccd?auto=format&fit=crop&w=500&q=80" }
        ];

        const catalogoPenteados = [
            { name: "Pentiado Noiva 01", price: "A partir de 12.000", img: "https://raw.githubusercontent.com/Patriciapattas97/Patricia-Pattas/8fb54da8238dddc30a2050e31de31f6e9674126a/Pentiado%20Noiva%2001.jpg" },
            { name: "Penteado 02", price: "A partir de 12.000", img: "https://raw.githubusercontent.com/Patriciapattas97/Patricia-Pattas/8fb54da8238dddc30a2050e31de31f6e9674126a/Penteado%2002.jpg" },
            { name: "Penteado 03", price: "A partir de 12.000", img: "https://raw.githubusercontent.com/Patriciapattas97/Patricia-Pattas/8fb54da8238dddc30a2050e31de31f6e9674126a/Peteado%2004.jpg" },
            { name: "Penteado 04", price: "A partir de 12.000", img: "https://raw.githubusercontent.com/Patriciapattas97/Patricia-Pattas/8fb54da8238dddc30a2050e31de31f6e9674126a/Peteado%2005.jpg" }
            { name: "Penteado 05", price: "A partir de 12.000", img: "https://raw.githubusercontent.com/Patriciapattas97/Patricia-Pattas/8fb54da8238dddc30a2050e31de31f6e9674126a/Penteado%2006.jpg" }
   
        ];

        const catalogoPerfumes = [
            { name: "Eau de Parfum Floral", price: "S/stok", img: "https://images.unsplash.com/photo-1541643600914-78b084683601?auto=format&fit=crop&w=500&q=80" },
            { name: "Col√≥nia Fresh Citrus", price: "S/stok", img: "https://images.unsplash.com/photo-1594035910387-fea47794261f?auto=format&fit=crop&w=500&q=80" },
            { name: "Perfume Amadeirado", price: "S/stok", img: "https://images.unsplash.com/photo-1592945403244-b3fbafd7f539?auto=format&fit=crop&w=500&q=80" },
            { name: "Body Splash Vanilla", price: "S/stok", img: "https://images.unsplash.com/photo-1615162489823-c533e4b48d2e?auto=format&fit=crop&w=500&q=80" }
        ];
          
        const catalogoSapatos = [
            { name: "Elegance", price: "30.000", img: "https://raw.githubusercontent.com/Patriciapattas97/Patricia-Pattas/c24c026fbfbab2d82b7d777d5154d92f28cb7321/Elegance.jpg" },
            { name: "Moana shoes", price: " 30.000", img: "https://raw.githubusercontent.com/Patriciapattas97/Patricia-Pattas/c24c026fbfbab2d82b7d777d5154d92f28cb7321/Moana%20shoes.jpg" },
            { name: "Sabrinas tend√™ncia", price: "25.000", img: "https://raw.githubusercontent.com/Patriciapattas97/Patricia-Pattas/c24c026fbfbab2d82b7d777d5154d92f28cb7321/Sabrinas%20tend%C3%AAncia.jpg" },
            { name: "Sandalias social", price: "24.000", img: "https://raw.githubusercontent.com/Patriciapattas97/Patricia-Pattas/c24c026fbfbab2d82b7d777d5154d92f28cb7321/Sandalias%20social.jpg" }
        ];
        const catalogoRoupas = [
            { name: "Cropped secret", price: "15.000", img: "https://raw.githubusercontent.com/Patriciapattas97/Patricia-Pattas/1630f906e26cc2cbadd3eb1c5c4714b0023a15ff/Cropped%20secret.jpg" },
            { name: "Vestido Diva", price: "28.000", img: "https://raw.githubusercontent.com/Patriciapattas97/Patricia-Pattas/1630f906e26cc2cbadd3eb1c5c4714b0023a15ff/Vestido%20Diva.jpg" },
            { name: "Vestido Rubin", price: "30.000", img: "https://raw.githubusercontent.com/Patriciapattas97/Patricia-Pattas/1630f906e26cc2cbadd3eb1c5c4714b0023a15ff/Vestido%20Rubin.jpg" },
       ]; 
        
        const catalogoAcessorios = [
            { name: "Kit Pinc√©is Pro", price: "S/stok", img: "https://images.unsplash.com/photo-1590219717156-f5b248a31828?auto=format&fit=crop&w=500&q=80" },
            { name: "Esponja Blender", price: "S/stok", img: "https://images.unsplash.com/photo-1627995874404-e3906a537f86?auto=format&fit=crop&w=500&q=80" },
            { name: "Necessaire Transparente", price: "S/stok", img: "https://images.unsplash.com/photo-1582239634289-e5a973d4e8b3?auto=format&fit=crop&w=500&q=80" },
            { name: "Espelho de Bolsa", price: "S/stok", img: "https://images.unsplash.com/photo-1581427508738-94f31c2c3175?auto=format&fit=crop&w=500&q=80" }
        ];

        // --- GERA√á√ÉO DO CAT√ÅLOGO GERAL ---
        const products = [];
        function generateProducts() {
            let idCounter = 1;
            const processCategory = (list, categoryName) => {
                if (!list) return; // Seguran√ßa contra arrays vazios
                list.forEach(item => {
                    products.push({
                        id: idCounter++,
                        name: item.name,
                        category: categoryName,
                        price: item.price,
                        image: item.img,
                        description: `Produto de alta qualidade da categoria ${categoryName}.`
                    });
                });
            };
            processCategory(catalogoMaquilhagem, 'Maquilhagem');
            processCategory(catalogoCroche, 'Croch√™');
            processCategory(catalogoSkincare, 'Skincare');
            processCategory(catalogoPenteados, 'Penteados'); // Atualizado para Penteados
            processCategory(catalogoPerfumes, 'Perfumes');
            processCategory(catalogoRoupas, 'Roupas'); // Adicionado Roupas
            processCategory(catalogoAcessorios, 'Acess√≥rios');
            // Nota: catalogoUnhas removido pois n√£o constava nos dados fornecidos
        }
        generateProducts();

        // SERVI√áOS COM IMAGENS DUPLAS (Atualizado)
        // Adicionada propriedade 'img2' para a visualiza√ß√£o dupla
        const services = [
            { 
                id: 1, 
                title: "Maquilhagem Social", 
                price: "19.000", 
                desc: "Maquiagem para eventos diurnos, sess√£o fotogr√°fica, maquiagem menos expressiva", 
                img: "https://images.unsplash.com/photo-1487412947132-26c5c1b151d5?auto=format&fit=crop&w=500&q=80",
                img2: "https://images.unsplash.com/photo-1516975080664-ed2fc6a32937?auto=format&fit=crop&w=500&q=80"
            },
            { 
                id: 2, 
                title: "Maquilhagem Para Noiva Tradicional", 
                price: "45.000", 
                desc: "N√£o inclui teste.", 
                img: "https://images.unsplash.com/photo-1522337360788-8b13dee7a37e?auto=format&fit=crop&w=500&q=80",
                img2: "https://images.unsplash.com/photo-1595475207225-428b62bda831?auto=format&fit=crop&w=500&q=80"
            },
            { 
                id: 3, 
                title: "Curso Auto-Maquilhagem", 
                price: "50.000", 
                desc: "Aprenda a real√ßar a sua beleza, do b√°sico ao avan√ßado (8 aulas).", 
                img: "https://images.unsplash.com/photo-1522337660859-02fbefca4702?auto=format&fit=crop&w=500&q=80",
                img2: "https://images.unsplash.com/photo-1512257916353-2578639080db?auto=format&fit=crop&w=500&q=80"
            },
            { 
                id: 4, 
                title: "Curso Profissional", 
                price: "85.000", 
                desc: "Forma√ß√£o completa com certificado (1 m√™s)3 aulas por semana.", 
                img: "https://images.unsplash.com/photo-1516975080664-ed2fc6a32937?auto=format&fit=crop&w=500&q=80",
                img2: "https://images.unsplash.com/photo-1522337094846-8a83b2202937?auto=format&fit=crop&w=500&q=80"
            },
            { 
                id: 5, 
                title: "Entrega Express", 
                price: "2.000", 
                desc: "Entrega de produtos em Luanda.", 
                img: "https://images.unsplash.com/photo-1616400619175-5beda3a17896?auto=format&fit=crop&w=500&q=80",
                img2: "https://images.unsplash.com/photo-1586769852044-692d6e3703f0?auto=format&fit=crop&w=500&q=80"
            },
            { 
                id: 6, 
                title: "Consultoria de Imagem", 
                price: "30.000(2 sess√µes)", 
                desc: "An√°lise Pessoal(Ajudamos-te a combinar as cores que se adequam a sua personalidade e ao seu tom de pele.)\" Ajudamos-te a montar um kit de maquiagem de acordo a necessidade da sua pele e ao seu tipo de pele .", 
                img: "https://images.unsplash.com/photo-1595777457583-95e059d581b8?auto=format&fit=crop&w=500&q=80",
                img2: "https://images.unsplash.com/photo-1571273276816-701a07af8617?auto=format&fit=crop&w=500&q=80"
            }
        ];

        const blogPosts = [
            { 
                id: 1,
                title: "5 Dicas para a Base Perfeita", 
                date: "20 Janeiro 2026", 
                img: "https://scontent-cpt1-1.xx.fbcdn.net/v/t39.30808-6/469559368_18434619232078958_8086162617319672375_n.jpg?_nc_cat=103&ccb=1-7&_nc_sid=127cfc&_nc_eui2=AeHCWGbPQfoiaTV1FzqaUGRR_JyOSWGop0j8nI5JYainSASDg44Bc3EBS_6yj10hQjWmZcrAtoXisO8k2qYEouMg&_nc_ohc=B69CYZXWvk4Q7kNvwHY2hxk&_nc_oc=AdkxR0Z9LlQHHnUIJt3PS2agV21jDcd0UJtVwUO1sfApXYHctNd6TONup0BWDLQacYZQsIG7RfXcMBRYBCOwGmFl&_nc_zt=23&_nc_ht=scontent-cpt1-1.xx&_nc_gid=JkpWbD99QG-FBkao_LprJg&oh=00_AfqyfMpIRA5WuKWvtT-qc9rPgoBJyW7Hi4QRSKierBFxSA&oe=697DB680",
                fullContent: `
                    <p class="mb-4">Conseguir aquela pele de porcelana n√£o √© imposs√≠vel. O segredo est√° na prepara√ß√£o e na t√©cnica de aplica√ß√£o. Aqui est√£o as 5 dicas de ouro que usamos no atelier Patr√≠cia Pattas:</p>
                    <ul class="list-disc pl-5 mb-4 space-y-2">
                        <li><strong>1. Hidrata√ß√£o √© a Chave:</strong> Nunca aplique base em pele seca. Use um hidratante adequado ao seu tipo de pele 5 minutos antes.</li>
                        <li><strong>2. O Primer Certo:</strong> Se tens poros dilatados, usa um primer de silicone. Se a pele √© seca, opta por um luminoso.</li>
                        <li><strong>3. Menos √© Mais:</strong> Come√ßa com pouca quantidade no centro do rosto e espalha para fora. Isso evita o efeito m√°scara.</li>
                        <li><strong>4. Esponja H√∫mida:</strong> Para um acabamento natural, d√° batidinhas com a esponja h√∫mida (tipo Beauty Blender) ap√≥s aplicar com pincel.</li>
                        <li><strong>5. Sele com P√≥:</strong> Na zona T (testa, nariz e queixo), usa um p√≥ solto fino para garantir que a base dura o dia todo no calor de Angola.</li>
                    </ul>
                    <p>Experimenta estas dicas e conta-nos o resultado!</p>
                `
            },
            { 
                id: 2,
                title: "Tend√™ncias de Croch√™ para o Ver√£o", 
                date: "15 Janeiro 2026", 
                img: "https://scontent-cpt1-1.xx.fbcdn.net/v/t39.30808-6/481276868_2423733901328858_8914340366746669761_n.jpg?_nc_cat=111&ccb=1-7&_nc_sid=3a1ebe&_nc_eui2=AeG9EC0dUayM-nm-qvMC10xbilDISyf0ljyKUMhLJ_SWPJaB_gwO7HzDeYSaeAeNWgCMehfBl2WUUHpVhCMxV019&_nc_ohc=be8zGQxU4BkQ7kNvwE0jbPL&_nc_oc=AdkNvxPQbclozEjbX9pck8a9bWgacHDtZ-2e-LsbbZzkVxFIynUObrtahVv2GVlGogK06WEE7zOPZJQO7iW0eKtK&_nc_zt=23&_nc_ht=scontent-cpt1-1.xx&_nc_gid=QyhktIZOxFg9LxWs2Tg-6A&oh=00_AfpeGEQBtLG7VhewpXJoW9AGJdcpg4LG6lwln2ZjVa_aGA&oe=697DC58A",
                fullContent: `
                    <p class="mb-4">O croch√™ deixou de ser "coisa de av√≥" e invadiu as passarelas e as praias de Luanda. Neste ver√£o, a aposta √© na leveza e nas cores vibrantes.</p>
                    <h4 class="font-bold mt-4 mb-2">O que est√° em alta?</h4>
                    <p class="mb-2"><strong>Sa√≠das de Praia Longas:</strong> Vestidos longos com pontos abertos s√£o elegantes e frescos.</p>
                    <p class="mb-2"><strong>Biqu√≠nis Micro:</strong> O croch√™ permite modelagens √∫nicas que se ajustam ao corpo.</p>
                    <p class="mb-2"><strong>Conjuntos Color Block:</strong> Misturar roxo com laranja ou verde com rosa √© a tend√™ncia do momento.</p>
                    <p class="mt-4">No nosso atelier, usamos fios 100% algod√£o para garantir que a pe√ßa respire e n√£o esquente demasiado ao sol.</p>
                `
            },
            { 
                id: 3,
                title: "Cuidados Essenciais com a Pele", 
                date: "10 Janeiro 2026", 
                img: "https://www.primor.eu/blog/pt/wp-content/uploads/2025/01/RUTINA-FACIAL-NEGRAS-1200x675.jpg",
                fullContent: `
                    <p class="mb-4">Uma maquilhagem bonita come√ßa numa pele saud√°vel. Segue este ritual simples para manteres o brilho natural:</p>
                    <ol class="list-decimal pl-5 mb-4 space-y-2">
                        <li><strong>Limpeza Dupla:</strong> √Ä noite, usa um √≥leo de limpeza seguido de um gel. Isso remove maquilhagem e polui√ß√£o profundamente.</li>
                        <li><strong>Tonificar:</strong> Equilibra o pH da pele ap√≥s a lavagem.</li>
                        <li><strong>S√©rum de Vitamina C:</strong> Essencial para combater manchas e dar luminosidade (temos dispon√≠vel na loja!).</li>
                        <li><strong>Prote√ß√£o Solar:</strong> O passo mais importante. Em √Åfrica, o sol n√£o perdoa. Usa FPS 50 todos os dias, mesmo em casa.</li>
                    </ol>
                    <p>A consist√™ncia √© o segredo. Cuida de ti todos os dias.</p>
                `
            }
        ];

        // --- ESTADO DA APLICA√á√ÉO ---
        let cart = JSON.parse(localStorage.getItem('patricia_cart')) || [];
        let chatHistory = [];
        let activePartnerTab = 'vagas'; // Novo Estado para Abas de Parceiros

        // --- ROTEADOR (Navega√ß√£o SPA) ---
        function router(page, param = null) {
            const content = document.getElementById('app-content');
            window.scrollTo(0, 0);
            let html = '';
            switch(page) {
                case 'home': html = renderHome(); break;
                case 'shop': html = renderShop(); break;
                case 'services': html = renderServices(); break;
                case 'booking': html = renderBooking(); break;
                case 'contact': html = renderContact(); break;
                case 'about': html = renderAbout(); break;
                case 'cart': html = renderCart(); break;
                case 'multimedia': html = renderMultimedia(); break;
                case 'blog': html = renderBlog(); break;
                case 'blog-post': html = renderBlogPost(param); break;
                case 'partners': html = renderPartners(); break;
                case 'faq': html = renderFAQ(); break;
                case 'legal-terms': case 'legal-privacy': case 'legal-refund': html = renderLegal(page); break;
                default: html = renderHome();
            }
            content.innerHTML = `<div class="fade-in">${html}</div>`;
            updateCartCount();
        }

        // --- RENDERIZADORES DE P√ÅGINAS ---
        function renderHome() {
            return `
                <section class="relative bg-primaryDark text-white h-[500px] flex items-center">
                    <div class="absolute inset-0 bg-black opacity-40"></div>
                    <div class="absolute inset-0 bg-[url('https://images.unsplash.com/photo-1522337660859-02fbefca4702?ixlib=rb-1.2.1&auto=format&fit=crop&w=1500&q=80')] bg-cover bg-center mix-blend-overlay"></div>
                    <div class="container mx-auto px-4 relative z-10 text-center md:text-left">
                        <h1 class="text-4xl md:text-6xl font-bold mb-4">Realce sua Beleza <br> com Arte e Estilo</h1>
                        <p class="text-lg md:text-xl mb-8 max-w-2xl">Maquilhagem profissional, cursos especializados e moda croch√™ exclusiva em Angola. A qualidade que voc√™ merece.</p>
                        <div class="flex flex-col md:flex-row gap-4 justify-center md:justify-start">
                            <button onclick="router('shop')" class="bg-white text-primaryDark px-8 py-3 rounded-full font-bold hover:bg-gray-100 transition shadow-lg">Ver Produtos</button>
                            <button onclick="router('booking')" class="border-2 border-white text-white px-8 py-3 rounded-full font-bold hover:bg-white hover:text-primaryDark transition">Agendar Agora</button>
                        </div>
                    </div>
                </section>
                <section class="py-16 bg-white">
                    <div class="container mx-auto px-4">
                        <h2 class="text-3xl font-bold text-center text-gray-800 mb-12">Nossos Universos</h2>
                        <div class="grid grid-cols-1 md:grid-cols-3 gap-8">
                            <div class="bg-purple-50 p-8 rounded-2xl text-center hover:shadow-xl transition cursor-pointer" onclick="router('shop')">
                                <div class="w-16 h-16 bg-primary text-white rounded-full flex items-center justify-center mx-auto mb-4 text-2xl"><i class="fas fa-magic"></i></div>
                                <h3 class="text-xl font-bold mb-2">Maquilhagem</h3>
                                <p class="text-gray-600">Produtos de alta qualidade e servi√ßos para todas as ocasi√µes.</p>
                            </div>
                            <div class="bg-purple-50 p-8 rounded-2xl text-center hover:shadow-xl transition cursor-pointer" onclick="router('shop')">
                                <div class="w-16 h-16 bg-primary text-white rounded-full flex items-center justify-center mx-auto mb-4 text-2xl"><i class="fas fa-mitten"></i></div>
                                <h3 class="text-xl font-bold mb-2">Croch√™</h3>
                                <p class="text-gray-600">Pe√ßas exclusivas feitas √† m√£o com amor e dedica√ß√£o.</p>
                            </div>
                            <div class="bg-purple-50 p-8 rounded-2xl text-center hover:shadow-xl transition cursor-pointer" onclick="router('services')">
                                <div class="w-16 h-16 bg-primary text-white rounded-full flex items-center justify-center mx-auto mb-4 text-2xl"><i class="fas fa-graduation-cap"></i></div>
                                <h3 class="text-xl font-bold mb-2">Forma√ß√£o</h3>
                                <p class="text-gray-600">Torne-se uma profissional com nossos cursos certificados.</p>
                            </div>
                        </div>
                    </div>
                </section>
                <section class="py-16 bg-secondary/30">
                    <div class="container mx-auto px-4 flex flex-col md:flex-row items-center gap-12">
                        <div class="md:w-1/2">
                            <img src="https://images.unsplash.com/photo-1512496015851-a90fb38ba796?ixlib=rb-1.2.1&auto=format&fit=crop&w=800&q=80" alt="Patr√≠cia Pattas" class="rounded-lg shadow-2xl">
                        </div>
                        <div class="md:w-1/2">
                            <h2 class="text-3xl font-bold text-primaryDark mb-6">Sobre a Patr√≠cia Pattas</h2>
                            <p class="text-gray-700 mb-4 leading-relaxed">Nossa miss√£o √© elevar a autoestima atrav√©s da arte. Com anos de experi√™ncia no mercado de beleza angolano, oferecemos um servi√ßo personalizado e produtos de excel√™ncia.</p>
                            <p class="text-gray-700 mb-6 leading-relaxed">Valorizamos a autenticidade, a inova√ß√£o e o compromisso com cada cliente. Seja atrav√©s de um pincel ou de uma agulha de croch√™, criamos beleza.</p>
                            <button onclick="router('about')" class="text-primary font-bold hover:underline">Ler nossa hist√≥ria completa &rarr;</button>
                        </div>
                    </div>
                </section>
            `;
        }

        function renderShop() {
            let itemsHtml = products.map(p => `
                <div class="bg-white rounded-xl shadow-md overflow-hidden hover:shadow-xl transition group flex flex-col category-item" data-category="${p.category}">
                    <div class="relative overflow-hidden">
                        <img src="${p.image}" alt="${p.name}" class="img-padrao transform group-hover:scale-110 transition duration-500">
                        <span class="absolute top-2 right-2 bg-primary text-white text-xs font-bold px-2 py-1 rounded">${p.category}</span>
                    </div>
                    <div class="p-4 flex flex-col flex-grow">
                        <h3 class="font-bold text-gray-800 mb-1 truncate">${p.name}</h3>
                        <p class="text-sm text-gray-500 mb-3 line-clamp-2 flex-grow">${p.description}</p>
                        <div class="flex justify-between items-center mt-2">
                            <span class="text-primaryDark font-bold text-lg">${p.price} Kz</span>
                            <button onclick="addToCart(${p.id})" class="bg-primary text-white w-10 h-10 rounded-full flex items-center justify-center hover:bg-primaryDark transition shadow-lg" title="Adicionar ao Carrinho"><i class="fas fa-shopping-cart"></i></button>
                        </div>
                    </div>
                </div>
            `).join('');
            return `
                <div class="container mx-auto px-4 py-8">
                    <h2 class="text-3xl font-bold text-center mb-4 text-primaryDark">Loja Virtual</h2>
                    <p class="text-center text-gray-500 mb-8 text-sm">Entregas em toda Angola (Luanda via moto-t√°xi, Prov√≠ncias via transportadora).</p>
                    <div class="flex flex-wrap justify-center gap-4 mb-8">
                        <input type="text" id="searchProduct" placeholder="Buscar produto..." class="border border-purple-200 px-4 py-2 rounded-full focus:outline-none focus:border-primary w-full md:w-64" onkeyup="filterProducts()">
                        <select id="categorySelect" onchange="filterProducts()" class="border border-purple-200 px-4 py-2 rounded-full focus:outline-none focus:border-primary bg-white">
                            <option value="all">Todas as Categorias</option>
                            <option value="Maquilhagem">Maquilhagem</option>
                            <option value="Croch√™">Croch√™</option>
                            <option value="Skincare">Skincare</option>
                            <option value="Penteados">Penteados</option>
                            <option value="Perfumes">Perfumes</option>
                            <option value="Roupas">Roupas</option>
                            <option value="Acess√≥rios">Acess√≥rios</option>
                        </select>
                    </div>
                    <div id="product-grid" class="grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-6">${itemsHtml}</div>
                </div>
            `;
        }

        // SERVI√áOS COM CARDS E IMAGENS (Atualizado com Galeria Dual)
        function renderServices() {
            let list = services.map(s => `
                <div class="bg-white rounded-xl shadow-lg overflow-hidden flex flex-col md:flex-row hover:shadow-2xl transition duration-300 mb-6">
                    <!-- Container de Imagens Duplas -->
                    <div class="md:w-1/3 h-64 md:h-auto grid grid-cols-2 md:grid-cols-1 md:grid-rows-2 gap-0.5 bg-gray-100">
                        <div class="relative overflow-hidden h-full group cursor-pointer" onclick="openLightbox('${s.img}')">
                            <img src="${s.img}" alt="${s.title} 1" class="absolute inset-0 w-full h-full object-cover transition duration-700 group-hover:scale-110 group-hover:opacity-90">
                            <div class="absolute inset-0 bg-black/0 group-hover:bg-black/10 transition-colors flex items-center justify-center">
                                <i class="fas fa-search-plus text-white opacity-0 group-hover:opacity-100 transition-opacity drop-shadow-md"></i>
                            </div>
                        </div>
                        <div class="relative overflow-hidden h-full group cursor-pointer" onclick="openLightbox('${s.img2}')">
                            <img src="${s.img2}" alt="${s.title} 2" class="absolute inset-0 w-full h-full object-cover transition duration-700 group-hover:scale-110 group-hover:opacity-90">
                            <div class="absolute inset-0 bg-black/0 group-hover:bg-black/10 transition-colors flex items-center justify-center">
                                <i class="fas fa-search-plus text-white opacity-0 group-hover:opacity-100 transition-opacity drop-shadow-md"></i>
                            </div>
                        </div>
                    </div>
                    
                    <div class="p-6 md:w-2/3 flex flex-col justify-between">
                        <div>
                            <h3 class="font-bold text-2xl text-gray-800 mb-2">${s.title}</h3>
                            <p class="text-gray-500 mb-4">${s.desc}</p>
                        </div>
                        <div class="flex items-center justify-between mt-4 border-t pt-4 border-gray-100">
                            <span class="font-bold text-2xl text-primaryDark">${s.price} Kz</span>
                            <button onclick="router('booking')" class="bg-primary hover:bg-primaryDark text-white px-6 py-2 rounded-full transition shadow-lg flex items-center gap-2 transform hover:-translate-y-1">
                                <i class="far fa-calendar-check"></i> Agendar
                            </button>
                        </div>
                    </div>
                </div>
            `).join('');
            return `
                <div class="container mx-auto px-4 py-8 max-w-4xl">
                    <h2 class="text-3xl font-bold text-center mb-2 text-primaryDark">Nossos Servi√ßos</h2>
                    <p class="text-center text-gray-600 mb-10">Qualidade profissional ilustrada em cada detalhe. Clique nas fotos para ampliar.</p>
                    <div class="flex flex-col gap-4">
                        ${list}
                    </div>
                </div>
            `;
        }

        // AGENDAMENTO COM TEXTO LIVRE DE LOCALIZA√á√ÉO
        function renderBooking() {
            return `
                <div class="container mx-auto px-4 py-8 max-w-2xl">
                    <div class="bg-white rounded-2xl shadow-xl p-8">
                        <h2 class="text-3xl font-bold text-center mb-6 text-primaryDark">Agendamento Online</h2>
                        <form onsubmit="handleBooking(event)" class="space-y-6">
                            <!-- Edi√ß√£o Livre de Localiza√ß√£o -->
                            <div>
                                <label class="block text-sm font-bold text-gray-700 mb-2">Sua Localiza√ß√£o / Endere√ßo Completo</label>
                                <textarea name="location" required rows="3" class="w-full border border-gray-300 rounded-lg px-4 py-3 focus:border-primary focus:ring-primary" placeholder="Descreva sua localiza√ß√£o exata (Bairro, Rua, Ponto de refer√™ncia)..."></textarea>
                            </div>
                            
                            <div>
                                <label class="block text-sm font-bold text-gray-700 mb-2">Servi√ßo Desejado</label>
                                <select name="service" class="w-full border border-gray-300 rounded-lg px-4 py-3 focus:border-primary focus:ring-primary">${services.map(s => `<option value="${s.title}">${s.title} - ${s.price} Kz</option>`).join('')}</select>
                            </div>
                            
                            <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                                <div><label class="block text-sm font-bold text-gray-700 mb-2">Data Preferencial</label><input type="date" name="date" required class="w-full border border-gray-300 rounded-lg px-4 py-3 focus:border-primary"></div>
                                <div><label class="block text-sm font-bold text-gray-700 mb-2">Hor√°rio Preferencial</label><select name="time" class="w-full border border-gray-300 rounded-lg px-4 py-3 focus:border-primary"><option>09:00</option><option>10:00</option><option>11:00</option><option>14:00</option><option>15:00</option><option>16:00</option></select></div>
                            </div>
                            
                            <div><label class="block text-sm font-bold text-gray-700 mb-2">Seu Nome</label><input type="text" name="clientName" required class="w-full border border-gray-300 rounded-lg px-4 py-3 focus:border-primary" placeholder="Maria Silva"></div>
                            
                            <button type="submit" class="w-full bg-primary text-white font-bold py-4 rounded-lg hover:bg-primaryDark transition shadow-lg flex justify-center items-center gap-2">
                                <i class="fab fa-whatsapp text-xl"></i> Confirmar Agendamento via WhatsApp
                            </button>
                        </form>
                    </div>
                </div>
            `;
        }

        function renderMultimedia() {
            const fotosMomentos = [
                "https://scontent-cpt1-1.xx.fbcdn.net/v/t39.30808-6/471180106_18436794991078958_1378249432723982975_n.jpg?_nc_cat=107&ccb=1-7&_nc_sid=127cfc&_nc_eui2=AeFfa5MwmsfoKPieKugq1ZPuh4EqDbxRnZqHgSoNvFGdmhiVgsaNvrhYefhI-yMnuBD4jwsz9JQAefnMBKswtLPb&_nc_ohc=SFDOavpAVm0Q7kNvwHcwPS2&_nc_oc=AdmTFerFWGXOo33VteT-g5JBk7G86fze3jD1py7mDsE4xuvEJjgckXbJNGsBbktdsMLyHWc-_Avb-c1isDc8j2nF&_nc_zt=23&_nc_ht=scontent-cpt1-1.xx&_nc_gid=bXuSvBBby32Bozd-1ww2GQ&oh=00_AfqytBN2UKLJs0twpUqPQgmreJ8R-CQPlR0py5zq5rNpug&oe=697C0FF3",
                "https://scontent-cpt1-1.xx.fbcdn.net/v/t39.30808-6/470561983_18436799662078958_4930335527415635425_n.jpg?_nc_cat=109&ccb=1-7&_nc_sid=127cfc&_nc_eui2=AeF-sskuY0YXt0M1x0foR8D0BnPT1DraTtQGc9PUOtpO1Cv2Qcv6oFak-IhxEaT2s7WSZyFwE3MLrAcwRpOgsNRx&_nc_ohc=3Og_arEM7p4Q7kNvwEQ9mN2&_nc_oc=AdnVY0E48wjuw1cGM9f9Chv17AznEBsOMEjAZmLsGsmLSvCXp1907gyisIY2UXhU5O8pQBb3UPDEx34PctlNGHMU&_nc_zt=23&_nc_ht=scontent-cpt1-1.xx&_nc_gid=mHd5L48vbjQJOhd0_QFuZA&oh=00_AfoN5rhKqG1GSsA0FD5LVnJ2iVPP6-cv7-bqbVBzRrr_NA&oe=697C0DFF",
                "https://scontent-cpt1-1.xx.fbcdn.net/v/t51.75761-15/491415750_18058241234154897_6955716653653450962_n.jpg?_nc_cat=109&ccb=1-7&_nc_sid=127cfc&_nc_eui2=AeGIp-AkLGOs61fmNz4YPOEHbknabuyGAP1uSdpu7IYA_UWurKSyBK-BWbSAYPbJmoN4y3Ozi_VpnoizyKhAZrmh&_nc_ohc=4G11CaHhZxcQ7kNvwHBqg1p&_nc_oc=Adkh3xWwn8gJlxN7kk9Vo06rncjraMSPJuQCAmdj7nBJKwosfFC_y6Q6j0o8Yb5w55Wx-1ZNlSzSVXGeD0X1FiLH&_nc_zt=23&_nc_ht=scontent-cpt1-1.xx&_nc_gid=pcTNkH3hSyFk__r1SbXlUA&oh=00_AfoCAyk1hHN5eGjK-EfDYEqqkplL77KED75pHOuS9IwjOw&oe=697BDB30",
                "https://scontent-cpt1-1.xx.fbcdn.net/v/t39.30808-6/470193703_18435865387078958_2744649882938717474_n.jpg?_nc_cat=108&ccb=1-7&_nc_sid=127cfc&_nc_eui2=AeEMF7wwr0z7wMF108Si4fK_zOblki1B_jfM5uWSLUH-N_hvy7My_9STNrfNeFK89Vcr3ZliEgJsSmbvl97sTAoL&_nc_ohc=Kk7HLSwE8roQ7kNvwFVCNe9&_nc_oc=Adnb-E7tZLrecEjhLoEdN_vqqjkXEBiodXyQB6vSElesKdv2LiiAMq_27WuTR72TYtXwtukTrdX9zu_1tUGlklYs&_nc_zt=23&_nc_ht=scontent-cpt1-1.xx&_nc_gid=G-8ZoVUdxXKdX_ZN8qQwyA&oh=00_AfqQSeJbXm30qXDbbzMJ-e143GFMFO44fr1cbNkqYxWkRg&oe=697D940E",
                "https://scontent-cpt1-1.xx.fbcdn.net/v/t39.30808-6/470591699_18436796845078958_3451455706905805234_n.jpg?_nc_cat=106&ccb=1-7&_nc_sid=127cfc&_nc_eui2=AeHvpPYdtMPsEE0L1p6xHP5qchEpsQz6_8VyESmxDPr_xZU77SL6J92H8iDgsEW1lqER11DZrRixt3LSZHaK6CET&_nc_ohc=Itso89tXqmgQ7kNvwGLGTj6&_nc_oc=Adl0okGV_UAobhHogsOEaXcM2rU-GfkvePYwvIeePXxsE4WScTxsa0mazI0jSz1lzHwYJLfAV3iBkNTsIQ6i-MNk&_nc_zt=23&_nc_ht=scontent-cpt1-1.xx&_nc_gid=Kbb1pApb7t08RqCGYBrWsw&oh=00_AfqXp1oKVqiyeBhSwnX8dbsGRHXVvS24M8MinOO4-n7R5Q&oe=697C36AC",
                "https://scontent-cpt1-1.xx.fbcdn.net/v/t39.30808-6/470203869_18435856990078958_1989981725040914006_n.jpg?_nc_cat=104&ccb=1-7&_nc_sid=127cfc&_nc_eui2=AeGTGFRfCFRxuq2U96lcOjUmxvc5ya9GbrPG9znJr0Zus4tavXPzcqM_-rMTo3GvDA-JzkupyIqPkEe4wffQuG6Z&_nc_ohc=Nk1P5Zfg6ScQ7kNvwHlLy4t&_nc_oc=AdmWwA9kcTcEEazqmO7AF7c6CMSEZr-HDJq_2tRkPfafxa1J1nH52OlJnSIQ-bCbsbz6tpXg_TmZ-BiORLezlYrN&_nc_zt=23&_nc_ht=scontent-cpt1-1.xx&_nc_gid=S4vTr9hxFxWYd0c227NC5w&oh=00_AfqvYq8jEL2VjDOm7rIgK5Bu5TPJMFPnxZKCKYH0HH-McA&oe=697DB41E",
                "https://scontent-cpt1-1.xx.fbcdn.net/v/t51.75761-15/499465694_18462879655078958_1835999236501744835_n.jpg?_nc_cat=101&ccb=1-7&_nc_sid=127cfc&_nc_eui2=AeGvYx1-ZpKX-1UUWUuGAQMgSIfmIFUgNDRIh-YgVSA0NLIAM6H3ZeeRqaDePU5ZbanjUr8GoeikPNDhtMtZTsAO&_nc_ohc=ku-RCo5WYaUQ7kNvwHWEjSv&_nc_oc=AdnDcVDizGvxD7kAwiBKRJyaibZyk-Sl7Otb3ABzZGunModexccmRvJ9VWeq0fLJtqzCiNrwLoFNHrT6ttUnS-vC&_nc_zt=23&_nc_ht=scontent-cpt1-1.xx&_nc_gid=UWkGrx1ySIQjpHcPZTTBbg&oh=00_AfqJpne-IdPWtT-uBZVKoD7O80Ls_vxyRHw4xqtt5KHfxg&oe=697C28A8",
                "https://scontent-cpt1-1.xx.fbcdn.net/v/t39.30808-6/471155898_18436800277078958_3047970815837566890_n.jpg?_nc_cat=102&ccb=1-7&_nc_sid=127cfc&_nc_eui2=AeFfyMv7k7J8hvykJrGR2vzvjDhCNIwwKJyMOEI0jDAonJMBMTjmxoZStVYldTc7SaedYo2IrHx4hlYygH7YxceX&_nc_ohc=1QNsxvgNu6EQ7kNvwGI0B71&_nc_oc=AdkuFnUx-jj9yO68JjeIYsSV8Etw1J88OQOYCjC7zVHRARCkl0nxweHZE5C1zIX9OfgoPpnh3gt_FX86RpggiMVU&_nc_zt=23&_nc_ht=scontent-cpt1-1.xx&_nc_gid=xMjS2DzNg-8_676IWnlAJQ&oh=00_Afp3waAYQXfqCsBBqAKUWI4Q4h8_4MMj4kCFn0zkAuudWg&oe=697C3ACD"
            ];
            return `
                <div class="container mx-auto px-4 py-8">
                    <h2 class="text-3xl font-bold text-center mb-8 text-primaryDark">Multim√©dia & Dicas</h2>
                    <div class="grid grid-cols-1 md:grid-cols-3 gap-6 mb-16">
                        <div class="bg-black rounded-xl h-[550px] flex items-center justify-center relative overflow-hidden shadow-lg border border-gray-900">
                             <iframe src="https://www.tiktok.com/embed/v2/7591613718400601400" class="w-full h-full border-0" allowfullscreen scrolling="no" allow="encrypted-media;"></iframe>
                        </div>
                        <div class="bg-white rounded-xl h-[550px] flex items-center justify-center relative overflow-hidden shadow-lg border border-gray-100">
                             <iframe src="https://www.facebook.com/plugins/video.php?height=550&href=https%3A%2F%2Fwww.facebook.com%2Freel%2F773125141667597&show_text=false&width=308&t=0" width="100%" height="100%" style="border:none;overflow:hidden" scrolling="no" frameborder="0" allowfullscreen="true" allow="autoplay; clipboard-write; encrypted-media; picture-in-picture; web-share" allowFullScreen="true"></iframe>
                        </div>
                        <div class="video-card bg-white border border-gray-100 rounded-2xl p-4 shadow-lg hover:shadow-xl transition duration-300 h-[550px] flex flex-col">
                            <div class="flex items-center gap-2 mb-3 text-[#E1306C] font-bold">
                                <i class="fab fa-instagram text-xl"></i>
                                <span>Instagram Reels</span>
                            </div>
                            <div class="flex-grow relative overflow-hidden rounded-xl">
                                <iframe src="https://www.instagram.com/reel/DSKJORdjp4L/embed" class="absolute top-0 left-0 w-full h-full border-0" allowtransparency="true" allowfullscreen="true" scrolling="no"></iframe>
                            </div>
                        </div>
                    </div>
                    <div class="mt-12">
                        <div class="text-center mb-8">
                            <h3 class="text-2xl md:text-3xl font-bold text-primaryDark mb-2">Momentos Patr√≠cia Pattas</h3>
                            <p class="text-gray-500">Um olhar sobre a nossa arte e dia-a-dia.</p>
                        </div>
                        <div class="grid grid-cols-2 md:grid-cols-4 gap-4">
                            ${fotosMomentos.map(img => `
                                <div class="overflow-hidden rounded-xl shadow-md">
                                    <img src="${img}" class="img-momento" alt="Momento Patr√≠cia Pattas">
                                </div>
                            `).join('')}
                        </div>
                    </div>
                </div>
            `;
        }

        // NOVO: Fun√ß√£o para renderizar lista de blogs
        function renderBlog() {
            return `
                <div class="container mx-auto px-4 py-8">
                    <h2 class="text-3xl font-bold text-center mb-8 text-primaryDark">Blog de Not√≠cias</h2>
                    <div class="grid grid-cols-1 md:grid-cols-3 gap-8">
                        ${blogPosts.map((post) => `
                            <div class="bg-white rounded-xl shadow overflow-hidden hover:shadow-lg transition flex flex-col h-full">
                                <img src="${post.img}" class="w-full h-48 object-cover">
                                <div class="p-6 flex flex-col flex-grow">
                                    <p class="text-xs text-primary font-bold mb-2">${post.date}</p>
                                    <h3 class="text-xl font-bold text-gray-800 mb-3">${post.title}</h3>
                                    <p class="text-gray-600 text-sm mb-4 flex-grow line-clamp-3">
                                        <!-- Pr√©via do conte√∫do -->
                                        ${post.fullContent.replace(/<[^>]*>/g, '').substring(0, 100)}...
                                    </p>
                                    <!-- IMPLEMENTA√á√ÉO 2: Bot√£o para abrir artigo completo -->
                                    <button onclick="router('blog-post', ${post.id})" class="bg-primary/10 text-primaryDark font-bold py-2 rounded hover:bg-primary hover:text-white transition w-full mt-auto">Ler Completo</button>
                                </div>
                            </div>
                        `).join('')}
                    </div>
                </div>
            `;
        }

        // NOVO: Fun√ß√£o para renderizar um post √∫nico completo
        function renderBlogPost(id) {
            const post = blogPosts.find(p => p.id === id);
            if (!post) return renderBlog();

            return `
                <div class="container mx-auto px-4 py-8 max-w-3xl">
                    <button onclick="router('blog')" class="mb-6 flex items-center gap-2 text-gray-600 hover:text-primary transition font-semibold">
                        <i class="fas fa-arrow-left"></i> Voltar para o Blog
                    </button>
                    <div class="bg-white rounded-2xl shadow-xl overflow-hidden">
                        <img src="${post.img}" class="w-full h-64 md:h-96 object-cover">
                        <div class="p-8">
                            <div class="flex items-center gap-2 text-primary font-bold text-sm mb-4">
                                <i class="far fa-calendar-alt"></i> ${post.date}
                            </div>
                            <h1 class="text-3xl md:text-4xl font-bold text-gray-800 mb-6 leading-tight">${post.title}</h1>
                            <div class="prose prose-purple max-w-none text-gray-700 leading-relaxed">
                                ${post.fullContent}
                            </div>
                            <!-- Se√ß√£o de Intera√ß√£o e Links Reais -->
                            <div class="mt-8 border-t pt-6">
                                <div class="flex flex-col md:flex-row justify-between items-center gap-4">
                                    <!-- Bot√µes de Partilha -->
                                    <div class="flex items-center gap-2">
                                        <span class="font-bold text-gray-800">Partilhar:</span>
                                        <button onclick="shareArticleFacebook()" class="w-10 h-10 rounded-full bg-blue-100 text-blue-600 hover:bg-blue-200 flex items-center justify-center transition" title="Partilhar no Facebook"><i class="fab fa-facebook-f"></i></button>
                                        <button onclick="shareArticleWhatsApp('${post.title.replace(/'/g, "\\'")}', ${post.id})" class="w-10 h-10 rounded-full bg-green-100 text-green-600 hover:bg-green-200 flex items-center justify-center transition" title="Partilhar no WhatsApp"><i class="fab fa-whatsapp"></i></button>
                                    </div>
                                    
                                    <!-- Links Reais do Perfil (Implementa√ß√£o Solicitada) -->
                                    <div class="flex items-center gap-3 bg-purple-50 px-4 py-2 rounded-full border border-purple-100">
                                        <span class="font-bold text-gray-700 text-sm">Comente nas redes:</span>
                                        <a href="https://www.facebook.com/ateliermakeupecrochet?locale=pt_BR" target="_blank" class="text-blue-600 hover:scale-110 transition" title="Ir para P√°gina do Facebook"><i class="fab fa-facebook text-xl"></i></a>
                                        <a href="https://wa.me/244926837464" target="_blank" class="text-green-500 hover:scale-110 transition" title="Falar no WhatsApp Oficial"><i class="fab fa-whatsapp text-xl"></i></a>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            `;
        }

        function renderCart() {
            if (cart.length === 0) {
                return `
                    <div class="container mx-auto px-4 py-16 text-center">
                        <i class="fas fa-shopping-basket text-6xl text-gray-300 mb-4"></i>
                        <h2 class="text-2xl font-bold text-gray-800 mb-2">Seu carrinho est√° vazio</h2>
                        <p class="text-gray-500 mb-6">Explore nossa loja e encontre produtos incr√≠veis.</p>
                        <button onclick="router('shop')" class="bg-primary text-white px-8 py-3 rounded-full font-bold hover:bg-primaryDark">Ir para a Loja</button>
                    </div>
                `;
            }
            // --- IMPLEMENTA√á√ÉO 1: CORRE√á√ÉO NO C√ÅLCULO DO CARRINHO ---
            const totalVal = cart.reduce((acc, item) => {
                let priceStr = item.price;
                // Remove pontos de milhar para converter corretamente em n√∫mero (ex: "4.500" -> "4500")
                priceStr = priceStr.toString().replace(/\./g, '');
                // Garante que decimais usem ponto (se houver v√≠rgula)
                priceStr = priceStr.replace(',', '.');
                return acc + parseFloat(priceStr);
            }, 0);
            
            // Formata de volta para exibi√ß√£o com separadores de milhar (estilo PT-AO)
            const totalFormatted = totalVal.toLocaleString('pt-AO'); 

            return `
                <div class="container mx-auto px-4 py-8 max-w-4xl">
                    <h2 class="text-3xl font-bold mb-8 text-primaryDark">Carrinho de Compras</h2>
                    <div class="bg-white rounded-xl shadow-lg overflow-hidden">
                        ${cart.map((item, index) => `
                            <div class="flex items-center p-4 border-b border-gray-100">
                                <img src="${item.image}" class="w-16 h-16 rounded object-cover mr-4">
                                <div class="flex-1">
                                    <h3 class="font-bold text-gray-800">${item.name}</h3>
                                    <p class="text-sm text-gray-500">${item.category}</p>
                                </div>
                                <div class="font-bold text-primaryDark mr-4">${item.price} Kz</div>
                                <button onclick="removeFromCart(${index})" class="text-red-400 hover:text-red-600"><i class="fas fa-trash"></i></button>
                            </div>
                        `).join('')}
                        <div class="p-6 bg-purple-50 flex flex-col md:flex-row justify-between items-center">
                            <div class="mb-4 md:mb-0">
                                <p class="text-gray-600">Total a Pagar</p>
                                <p class="text-3xl font-bold text-primaryDark">${totalFormatted} Kz</p>
                            </div>
                            <button onclick="checkoutWhatsApp()" class="bg-green-500 text-white px-8 py-4 rounded-lg font-bold hover:bg-green-600 transition flex items-center gap-2 shadow-lg w-full md:w-auto justify-center">
                                <i class="fab fa-whatsapp text-2xl"></i> Finalizar Compra no WhatsApp
                            </button>
                        </div>
                    </div>
                </div>
            `;
        }

        // PARCEIROS COM PLACEHOLDER E ABAS
        function renderPartners() {
            // L√≥gica para alternar conte√∫do baseado na aba ativa
            const contentVagas = `
                 <div class="grid grid-cols-1 md:grid-cols-2 gap-8 animate-fade-in">
                    
                    <!-- PARCEIRO 1: Log√≠stica (Existente) -->
                    <div class="bg-white p-6 rounded-xl shadow border border-gray-100 flex items-center gap-4">
                        <div class="w-16 h-16 bg-blue-100 rounded-full flex items-center justify-center text-blue-600 font-bold text-xl">L</div>
                        <div class="flex-1">
                            <h3 class="font-bold text-lg">Log√≠stica Express AO</h3>
                            <p class="text-sm text-gray-500 mb-3">Parceiro Oficial de Entregas em Luanda.</p>
                            <a href="https://wa.me/244926837464?text=Ol√°, vi o an√∫ncio no site da Patr√≠cia Pattas e gostaria de saber mais sobre os servi√ßos de entrega." target="_blank" class="bg-green-500 hover:bg-green-600 text-white text-xs px-4 py-2 rounded-full inline-flex items-center gap-2 transition"><i class="fab fa-whatsapp"></i> Contactar Parceiro</a>
                        </div>
                    </div>

                    <!-- PARCEIRO PLACEHOLDER (NOVO - PRONTO PARA EDI√á√ÉO) -->
                    <div class="bg-white p-6 rounded-xl shadow border border-gray-100 flex flex-col gap-4 group hover:shadow-lg transition">
                        <div class="flex items-center gap-4">
                            <!-- LOCAL PARA IMAGEM DO PARCEIRO -->
                            <img src="https://scontent-cpt1-1.xx.fbcdn.net/v/t39.30808-6/571120694_1399453762180810_5994124936556253663_n.jpg?_nc_cat=111&ccb=1-7&_nc_sid=6ee11a&_nc_eui2=AeGKofqNQWWux6lLCFxXe8HblvQ1ynJ3PWWW9DXKcnc9ZVDbUVXr4WS7bsCgQBHA_5tW9Qqmkl-YxFuXm-5CTWUB&_nc_ohc=BX817Vu4NkcQ7kNvwG03yE0&_nc_oc=AdnnDGFvtS-u_82UYekcTA6wzVmL0ThtF0qCcEr428F7eKqOtaUQg8wRmkNXrmxqCU8FXzbC7gOXGVlSNvwVAIe7&_nc_zt=23&_nc_ht=scontent-cpt1-1.xx&_nc_gid=glgbgLX1QkpCBy97oUqUZw&oh=00_Afu9naJXFHnpNYwyrnByuKvGBsty4PMIiMAEMNeEdLGghw&oe=699A53D4" alt="Logo Parceiro" class="w-16 h-16 rounded-full object-cover border border-purple-100">
                            <div class="flex-1">
                                <!-- NOME E DESCRI√á√ÉO -->
                                <h3 class="font-bold text-lg text-gray-800">Makena Space</h3>
                                <p class="text-sm text-gray-500 leading-tight mb-1">Descri√ß√£o breve do servi√ßo (Culin√°ria e Forma√ß√µes).</p>
                                <p class="text-xs text-primary font-semibold"><i class="fas fa-map-marker-alt"></i> Localiza√ß√£o (Cuito-Bi√©)</p>
                            </div>
                        </div>
                        
                        <!-- LINKS DO PARCEIRO (FUNCIONAL) -->
                        <div class="grid grid-cols-2 gap-2 mt-2 border-t border-gray-50 pt-3">
                            <!-- Link do Site -->
                            <a href="https://makenaspace.netlify.app/" target="_blank" class="flex items-center justify-center gap-2 text-xs bg-gray-100 hover:bg-primary hover:text-white text-gray-600 py-2 rounded transition" title="Visitar Site Oficial">
                                <i class="fas fa-globe"></i> Site Oficial
                            </a>
                            <!-- Link WhatsApp -->
                            <a href="https://wa.me/+244945944795" target="_blank" class="flex items-center justify-center gap-2 text-xs bg-green-50 hover:bg-green-500 hover:text-white text-green-600 py-2 rounded transition" title="Contactar no WhatsApp">
                                <i class="fab fa-whatsapp"></i> WhatsApp
                            </a>
                            <!-- Link Facebook -->
                            <a href="https://www.facebook.com/makenaspace?locale=pt_BR " target="_blank" class="flex items-center justify-center gap-2 text-xs bg-blue-50 hover:bg-blue-600 hover:text-white text-blue-600 py-2 rounded transition" title="Facebook">
                                <i class="fab fa-facebook-f"></i> Facebook
                            </a>
                            <!-- Link Instagram -->
                            <a href="https://www.instagram.com/makenaspace21?igsh=MTION3Z0bGxbWg5aw==" target="_blank" class="flex items-center justify-center gap-2 text-xs bg-pink-50 hover:bg-pink-500 hover:text-white text-pink-600 py-2 rounded transition" title="Instagram">
                                <i class="fab fa-instagram"></i> Instagram
                            </a>
                            <!-- Link TikTok (Ocupando 2 colunas para destaque) -->
                            <a href=" https://www.tiktok.com/@makenaspace?fbclid=IwY2xjawQBVtlleHRuA2FlbQIxMABicmlkETJzNnVKMFJmTGZ2NU9ucVlXc3J0YwZhcHBfaWQQMjIyMDM5MTc4ODIwMDg5MgABHr0PbFG9s6lrRXkRrnKtXAmTMgoUHApN1qGzJMsH3FcMLG-3Y_VXRFwKDfta_aem_RyttVjE5GMHjQ6bct7dQcQ" target="_blank" class="col-span-2 flex items-center justify-center gap-2 text-xs bg-gray-50 hover:bg-black hover:text-white text-gray-800 py-2 rounded transition" title="TikTok">
                                <i class="fab fa-tiktok"></i> TikTok
                            </a>
                        </div>
                    </div>

                    <!-- VAGA DE EMPREGO (Existente) -->
                      <div class="bg-white p-6 rounded-xl shadow border border-gray-100 flex flex-col gap-4">
                        <div class="flex items-center gap-4">
                            <div class="w-16 h-16 bg-primary/10 rounded-full flex items-center justify-center text-primary font-bold text-xl"><i class="fas fa-briefcase"></i></div>
                            <div><h3 class="font-bold text-lg">Vaga:N√£o estamos a contratar</h3><p class="text-sm text-gray-500">Local: Luanda  (Patr√≠cia Pattas Shop)</p></div>
                        </div>
                        <form id="job-form" class="border-t pt-4 mt-4" enctype="multipart/form-data">
                            <input type="hidden" name="_to" value="angelinapatas97@gmail.com">
                            <input type="hidden" name="_subject" value="Nova Candidatura - Patr√≠cia Pattas">
                            <input type="hidden" name="_captcha" value="false">
                            <input type="hidden" name="_autoresponse" value="Recebemos sua candidatura. Entraremos em contacto se o perfil for compat√≠vel. Boa sorte!">
                            <div class="space-y-3">
                                <div><input type="text" name="nome" placeholder="Seu Nome Completo" required class="w-full border border-gray-300 p-2 rounded text-sm focus:outline-none focus:border-primary"></div>
                                <div><input type="tel" name="telefone" placeholder="Seu WhatsApp/Telefone" required class="w-full border border-gray-300 p-2 rounded text-sm focus:outline-none focus:border-primary"></div>
                                <div><label class="block text-xs font-bold text-gray-700 mb-2">Anexar Curr√≠culo (PDF)</label><input type="file" name="attachment" accept="application/pdf" required class="block w-full text-xs text-gray-500 file:mr-4 file:py-2 file:px-4 file:rounded-full file:border-0 file:text-xs file:font-semibold file:bg-primary/10 file:text-primary hover:file:bg-primary/20 cursor-pointer"></div>
                            </div>
                            <div class="flex flex-col gap-2 mt-4">
                                <button type="submit" class="w-full bg-primary hover:bg-primaryDark text-white text-sm font-bold py-2 rounded-lg transition flex justify-center items-center gap-2">
                                    <i class="fas fa-envelope-open-text"></i> <span id="job-btn-text">Enviar Candidatura (PDF)</span>
                                    <i id="job-loader" class="fas fa-spinner fa-spin hidden"></i>
                                </button>
                                <button type="button" onclick="applyJobWhatsApp('244926837464', 'Assistente de Loja')" class="w-full bg-green-500 hover:bg-green-600 text-white text-sm font-bold py-2 rounded-lg transition flex justify-center items-center gap-2">
                                    <i class="fab fa-whatsapp"></i> Falar no WhatsApp
                                </button>
                            </div>
                        </form>
                    </div>
                </div>
            `;

            const contentPublicar = `
                <div class="bg-white rounded-xl shadow-lg p-8 border border-purple-100 animate-fade-in">
                    <div class="text-center mb-6">
                        <i class="fas fa-bullhorn text-4xl text-primary mb-3"></i>
                        <h3 class="text-2xl font-bold text-gray-800">Publique Aqui o Teu Neg√≥cio</h3>
                        <p class="text-gray-500">Alcance mais clientes divulgando seus servi√ßos na nossa rede.</p>
                    </div>
                    <form onsubmit="handleAdvertise(event)" class="space-y-4">
                        <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                            <div><label class="text-xs font-bold text-gray-500 uppercase">Nome da Empresa</label><input type="text" name="bizName" required class="w-full border border-gray-300 rounded px-3 py-2 focus:border-primary"></div>
                            <div><label class="text-xs font-bold text-gray-500 uppercase">Tipo de Servi√ßo</label><input type="text" name="bizService" required class="w-full border border-gray-300 rounded px-3 py-2 focus:border-primary" placeholder="Ex: Manicure, Design, etc."></div>
                        </div>
                        <div><label class="text-xs font-bold text-gray-500 uppercase">Localiza√ß√£o</label><input type="text" name="bizLocation" required class="w-full border border-gray-300 rounded px-3 py-2 focus:border-primary"></div>
                        <div><label class="text-xs font-bold text-gray-500 uppercase">Link da Imagem / Logotipo</label><input type="text" name="bizImg" class="w-full border border-gray-300 rounded px-3 py-2 focus:border-primary" placeholder="Cole o link da imagem aqui"></div>
                        
                        <div class="border-t border-gray-100 pt-4 mt-4">
                            <label class="block text-sm font-bold text-primaryDark mb-3">Links das Redes Sociais (Obrigat√≥rio)</label>
                            <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                                <div class="flex items-center gap-2"><i class="fab fa-whatsapp text-green-500 w-6"></i><input type="text" name="bizWhatsapp" placeholder="WhatsApp Link/N√∫mero" class="flex-1 border border-gray-300 rounded px-3 py-2 text-sm"></div>
                                <div class="flex items-center gap-2"><i class="fab fa-facebook text-blue-600 w-6"></i><input type="text" name="bizFb" placeholder="Facebook Link" class="flex-1 border border-gray-300 rounded px-3 py-2 text-sm"></div>
                                <div class="flex items-center gap-2"><i class="fab fa-instagram text-pink-500 w-6"></i><input type="text" name="bizIg" placeholder="Instagram Link" class="flex-1 border border-gray-300 rounded px-3 py-2 text-sm"></div>
                                <div class="flex items-center gap-2"><i class="fab fa-tiktok text-black w-6"></i><input type="text" name="bizTk" placeholder="TikTok Link" class="flex-1 border border-gray-300 rounded px-3 py-2 text-sm"></div>
                            </div>
                        </div>

                        <button type="submit" class="w-full bg-primary hover:bg-primaryDark text-white font-bold py-3 rounded-lg transition shadow-lg mt-6">
                            Solicitar Publicidade via WhatsApp
                        </button>
                    </form>
                </div>
            `;

            return `
                <div class="container mx-auto px-4 py-8">
                    <div class="bg-gradient-to-r from-purple-100 to-white rounded-2xl p-8 mb-8 border border-purple-200 text-center">
                        <h2 class="text-3xl font-bold text-primaryDark mb-2">Parceiros & Oportunidades</h2>
                        <p class="text-gray-600">Conectando talentos e neg√≥cios.</p>
                    </div>
                    
                    <!-- Navega√ß√£o de Abas -->
                    <div class="flex justify-center mb-8 border-b border-gray-200">
                        <button onclick="switchPartnerTab('vagas')" class="tab-btn px-6 py-3 text-gray-500 hover:text-primary transition ${activePartnerTab === 'vagas' ? 'active' : ''}">
                            <i class="fas fa-handshake mr-2"></i> Parceiros & Vagas
                        </button>
                        <button onclick="switchPartnerTab('publicar')" class="tab-btn px-6 py-3 text-gray-500 hover:text-primary transition ${activePartnerTab === 'publicar' ? 'active' : ''}">
                            <i class="fas fa-bullhorn mr-2"></i> Publique Seu Neg√≥cio
                        </button>
                    </div>

                    <div id="partner-content">
                        ${activePartnerTab === 'vagas' ? contentVagas : contentPublicar}
                    </div>
                </div>
            `;
        }

        function switchPartnerTab(tab) {
            activePartnerTab = tab;
            router('partners');
        }

        function handleAdvertise(e) {
            e.preventDefault();
            const f = e.target.elements;
            const msg = `Ol√° Patr√≠cia! Quero divulgar meu neg√≥cio no site:%0A%0Aüè¢ *Empresa:* ${f.bizName.value}%0Aüîß *Servi√ßo:* ${f.bizService.value}%0Aüìç *Local:* ${f.bizLocation.value}%0AüñºÔ∏è *Img:* ${f.bizImg.value}%0A%0A*Redes Sociais:*%0Aüì± Whats: ${f.bizWhatsapp.value}%0Aüìò Face: ${f.bizFb.value}%0Aüì∏ Insta: ${f.bizIg.value}%0Aüéµ TikTok: ${f.bizTk.value}`;
            window.open(`https://wa.me/244926837464?text=${msg}`, '_blank');
        }

        function renderContact() {
            return `
                <div class="container mx-auto px-4 py-8 max-w-2xl">
                    <h2 class="text-3xl font-bold text-center text-primaryDark mb-8">Fale Conosco</h2>
                    <div class="bg-white rounded-xl shadow-lg p-8">
                        <form id="contact-form" class="space-y-4">
                            <input type="hidden" name="_to" value="${SITE_EMAIL}">
                            <input type="hidden" name="_subject" value="Nova Mensagem de Contato - Site">
                            <input type="text" name="name" placeholder="Nome Completo" required class="w-full border border-gray-300 rounded px-4 py-3 focus:border-primary focus:outline-none">
                            <input type="email" name="email" placeholder="E-mail" required class="w-full border border-gray-300 rounded px-4 py-3 focus:border-primary focus:outline-none">
                            <input type="tel" name="phone" placeholder="Telefone (+244)" class="w-full border border-gray-300 rounded px-4 py-3 focus:border-primary focus:outline-none">
                            <textarea name="message" placeholder="Sua Mensagem" rows="4" required class="w-full border border-gray-300 rounded px-4 py-3 focus:border-primary focus:outline-none"></textarea>
                            <button type="submit" class="w-full bg-primary text-white font-bold py-3 rounded hover:bg-primaryDark transition flex justify-center items-center">
                                <span id="contact-btn-text">Enviar Mensagem</span>
                                <i id="contact-loader" class="fas fa-spinner fa-spin ml-2 hidden"></i>
                            </button>
                        </form>
                    </div>
                </div>
            `;
        }

        function renderAbout() {
             return `
                <div class="container mx-auto px-4 py-12 max-w-3xl text-center">
                    <h1 class="text-4xl font-bold text-primaryDark mb-6">Nossa Ess√™ncia</h1>
                    <div class="bg-white p-8 rounded-2xl shadow-lg mb-8"><i class="fas fa-heart text-4xl text-primary mb-4"></i><h2 class="text-2xl font-bold mb-2">Miss√£o</h2><p class="text-gray-600">Empoderar mulheres e homens atrav√©s da beleza e da arte manual, oferecendo produtos de excel√™ncia e forma√ß√£o que transforma vidas.</p></div>
                    <div class="grid grid-cols-1 md:grid-cols-2 gap-8">
                        <div class="bg-white p-8 rounded-2xl shadow-lg"><i class="fas fa-eye text-4xl text-primary mb-4"></i><h2 class="text-xl font-bold mb-2">Vis√£o</h2><p class="text-gray-600">Ser a refer√™ncia n√∫mero um em Angola em cosm√©tica integrada e moda artesanal.</p></div>
                        <div class="bg-white p-8 rounded-2xl shadow-lg"><i class="fas fa-gem text-4xl text-primary mb-4"></i><h2 class="text-xl font-bold mb-2">Valores</h2><p class="text-gray-600">√âtica, Qualidade, Inova√ß√£o, Respeito √† diversidade e Amor pelo que fazemos.</p></div>
                    </div>
                </div>
            `;
        }

        function renderFAQ() {
            return `
                <div class="container mx-auto px-4 py-12 max-w-3xl">
                    <h2 class="text-3xl font-bold text-center text-primaryDark mb-8">Perguntas Frequentes</h2>
                    <div class="space-y-4">
                        <details class="bg-white p-4 rounded-lg shadow cursor-pointer"><summary class="font-bold text-gray-800">Como funcionam as entregas?</summary><p class="mt-2 text-gray-600">Realizamos entregas em toda Luanda via moto-t√°xi parceiro (taxa varia conforme a zona). Para outras prov√≠ncias (Benguela, Hu√≠la, etc.), utilizamos transportadoras locais com levantamento no terminal.</p></details>
                        <details class="bg-white p-4 rounded-lg shadow cursor-pointer"><summary class="font-bold text-gray-800">Quais as formas de pagamento?</summary><p class="mt-2 text-gray-600">Aceitamos Transfer√™ncia IBAN, Multicaixa Express e Pagamento √† vista na entrega (apenas para o centro de Luanda).</p></details>
                         <details class="bg-white p-4 rounded-lg shadow cursor-pointer"><summary class="font-bold text-gray-800">Os produtos de croch√™ s√£o pronta entrega?</summary><p class="mt-2 text-gray-600">Temos algumas pe√ßas em stock, mas a maioria √© feita sob encomenda com prazo de produ√ß√£o de 3 a 7 dias √∫teis.</p></details>
                    </div>
                </div>
            `;
        }

        function renderLegal(type) {
            let title = "", content = "";
            if(type === 'legal-terms') { title = "Termos de Uso"; content = `<h3 class="font-bold text-lg mb-2">1. Aceita√ß√£o</h3><p class="mb-4">Ao aceder ao site Patr√≠cia Pattas, concorda em cumprir estes termos de servi√ßo, todas as leis e regulamentos aplic√°veis em Angola.</p><h3 class="font-bold text-lg mb-2">2. Pre√ßos e Pagamentos</h3><p class="mb-4">Os pre√ßos apresentados est√£o em Kwanzas (Kz). Reservamo-nos o direito de alterar pre√ßos sem aviso pr√©vio.</p>`; }
            if(type === 'legal-privacy') { title = "Pol√≠tica de Privacidade"; content = `<h3 class="font-bold text-lg mb-2">1. Coleta de Dados</h3><p class="mb-4">Solicitamos informa√ß√µes pessoais apenas quando realmente precisamos delas para lhe fornecer um servi√ßo.</p><h3 class="font-bold text-lg mb-2">2. Uso dos Dados</h3><p class="mb-4">N√£o compartilhamos informa√ß√µes de identifica√ß√£o pessoal publicamente ou com terceiros, exceto quando exigido por lei.</p>`; }
            if(type === 'legal-refund') { title = "Pol√≠tica de Reembolso"; content = `<h3 class="font-bold text-lg mb-2">1. Produtos de Beleza</h3><p class="mb-4">Por quest√µes de higiene, n√£o aceitamos devolu√ß√µes de cosm√©ticos abertos.</p><h3 class="font-bold text-lg mb-2">2. Croch√™</h3><p class="mb-4">Pe√ßas feitas sob medida n√£o s√£o reembols√°veis, exceto defeito de fabrica√ß√£o.</p>`; }
            return `
                <div class="container mx-auto px-4 py-12 max-w-3xl">
                    <h2 class="text-3xl font-bold mb-6 text-gray-800 text-center">${title}</h2>
                    <div class="bg-white p-8 rounded shadow text-gray-600 leading-relaxed border border-gray-100">${content}<div class="mt-8 border-t pt-4 text-sm text-gray-500 text-center"><p>√öltima atualiza√ß√£o: Janeiro 2026</p><p>Luanda, Angola</p></div></div>
                </div>
            `;
        }

        // --- L√ìGICA DO CARRINHO ---
        function addToCart(id) {
            const product = products.find(p => p.id === id);
            cart.push(product);
            localStorage.setItem('patricia_cart', JSON.stringify(cart));
            updateCartCount();
            const btn = event.currentTarget;
            const originalHTML = btn.innerHTML;
            btn.innerHTML = '<i class="fas fa-check"></i>';
            btn.classList.replace('bg-primary', 'bg-green-500');
            setTimeout(() => { btn.innerHTML = originalHTML; btn.classList.replace('bg-green-500', 'bg-primary'); }, 1000);
        }
        function removeFromCart(index) {
            cart.splice(index, 1);
            localStorage.setItem('patricia_cart', JSON.stringify(cart));
            router('cart');
        }
        function updateCartCount() { document.getElementById('cart-count').innerText = cart.length; }
        function checkoutWhatsApp() {
            let message = "Ol√° Patr√≠cia! Gostaria de finalizar minha compra na Loja Virtual:%0A%0A";
            let total = 0;
            // C√°lculo robusto para a mensagem de checkout tamb√©m
            cart.forEach(item => { 
                message += `- ${item.name} (${item.category}): ${item.price} Kz%0A`; 
                let priceVal = parseFloat(item.price.toString().replace(/\./g, '').replace(',', '.'));
                total += priceVal; 
            });
            message += `%0ATotal: *${total.toLocaleString('pt-AO')} Kz*`;
            window.open(`https://wa.me/244926837464?text=${message}`, '_blank');
        }
        function handleBooking(e) {
            e.preventDefault();
            const inputs = e.target.elements;
            const msg = `Ol√°! Quero agendar:%0AServi√ßo: ${inputs.service.value}%0AData: ${inputs.date.value} √†s ${inputs.time.value}%0AüìçLocal: ${inputs.location.value}%0ACliente: ${inputs.clientName.value}`;
            window.open(`https://wa.me/244926837464?text=${msg}`, '_blank');
        }
        
        function applyJobWhatsApp(phone, jobTitle) {
            const message = `Ol√°! Tenho interesse na vaga de *${jobTitle}* anunciada no site Patr√≠cia Pattas. O meu curr√≠culo segue em anexo nesta conversa.`;
            const url = `https://wa.me/${phone}?text=${encodeURIComponent(message)}`;
            window.open(url, '_blank');
            alert("O WhatsApp ser√° aberto. Por favor, lembre-se de ANEXAR o ficheiro PDF manualmente na conversa.");
        }

        // --- IMPLEMENTA√á√ÉO 3: L√≥gica de Tela Cheia (Fullscreen) ---
        function toggleFullScreen() {
            if (!document.fullscreenElement) {
                document.documentElement.requestFullscreen().catch((err) => {
                    alert(`Erro ao tentar ativar tela cheia: ${err.message}`);
                });
            } else {
                if (document.exitFullscreen) {
                    document.exitFullscreen();
                }
            }
        }

        // Atualiza o √≠cone quando o modo fullscreen muda (via Esc ou Bot√£o)
        document.addEventListener('fullscreenchange', () => {
            const icon = document.getElementById('fullscreen-icon');
            if (document.fullscreenElement) {
                icon.classList.remove('fa-expand');
                icon.classList.add('fa-compress');
            } else {
                icon.classList.remove('fa-compress');
                icon.classList.add('fa-expand');
            }
        });

        // --- L√ìGICA DE FORMUL√ÅRIOS (FORMSUBMIT COM ARQUIVO REAL) ---
        async function handleFormSubmit(event, formId, btnTextId, loaderId, successMsg) {
            event.preventDefault();
            const form = document.getElementById(formId);
            const btnText = document.getElementById(btnTextId);
            const loader = document.getElementById(loaderId);
            
            const formData = new FormData(form);

            const emailTo = formData.get('_to');
            if(emailTo.includes('EXEMPLO.COM')) {
                alert("Erro de configura√ß√£o de email.");
                return;
            }

            btnText.classList.add('hidden');
            loader.classList.remove('hidden');

            try {
                const response = await fetch(`https://formsubmit.co/ajax/${emailTo}`, {
                    method: 'POST',
                    body: formData
                });
                
                const result = await response.json();
                
                if (result.success === "true" || response.ok) {
                    alert(successMsg);
                    form.reset();
                } else {
                    alert('Houve um erro ao enviar. Tente novamente.');
                }
            } catch (error) {
                console.error(error);
                alert('Erro de conex√£o ou arquivo muito grande. Tentando envio padr√£o...');
                form.submit(); 
            } finally {
                btnText.classList.remove('hidden');
                loader.classList.add('hidden');
            }
        }

        document.addEventListener('submit', function(e) {
            if(e.target.id === 'newsletter-form') {
                handleFormSubmit(e, 'newsletter-form', 'newsletter-btn-text', 'newsletter-loader', 'Inscri√ß√£o realizada com sucesso! üéâ');
            } else if(e.target.id === 'contact-form') {
                handleFormSubmit(e, 'contact-form', 'contact-btn-text', 'contact-loader', 'Mensagem enviada! Entraremos em contacto em breve.');
            } else if(e.target.id === 'job-form') {
                handleFormSubmit(e, 'job-form', 'job-btn-text', 'job-loader', 'Candidatura enviada com sucesso! O seu curr√≠culo foi entregue.');
            }
        });


        // --- L√ìGICA DA ASSISTENTE PATR√çCIA (C√âREBRO NATIVO v2.0) ---
        // Este m√≥dulo substitui a l√≥gica anterior por um sistema de entendimento robusto e contextual.
        
        const PatriciaBrain = {
            lastContext: null, // Mem√≥ria de curto prazo (ex: usu√°rio estava vendo batons)

            // Dicion√°rio de Inten√ß√µes e Respostas
            analyze: function(text) {
                text = text.toLowerCase().trim();

                // 1. NAVEGA√á√ÉO DIRETA (Comandos de A√ß√£o)
                if (text.match(/(ir para|abrir|ver|mostrar|quero ver) (loja|produtos|compras|cat√°logo)/)) 
                    return { action: 'NAV', target: 'shop', msg: "A abrir a Loja Virtual para si..." };
                
                if (text.match(/(ir para|abrir|ver|mostrar) (servi√ßos|cursos|aulas|forma√ß√£o)/)) 
                    return { action: 'NAV', target: 'services', msg: "Aqui est√£o os nossos Servi√ßos e Forma√ß√µes Profissionais." };
                
                if (text.match(/(ir para|abrir|ver|mostrar) (blog|not√≠cias|dicas|artigos)/)) 
                    return { action: 'NAV', target: 'blog', msg: "A abrir o Blog com as melhores dicas de beleza..." };
                
                if (text.match(/(ir para|abrir|ver|mostrar) (contato|fale|whatsapp|telefone)/)) 
                    return { action: 'NAV', target: 'contact', msg: "Vamos para a sec√ß√£o de Contato." };

                if (text.match(/(parceiro|vaga|emprego|trabalhar|publicar|anunciar|neg√≥cio)/)) 
                    return { action: 'NAV', target: 'partners', msg: "A abrir a √°rea de Parceiros e Oportunidades." };

                if (text.match(/(v√≠deo|foto|instagam|tiktok|multim√©dia)/)) 
                    return { action: 'NAV', target: 'multimedia', msg: "Veja os nossos momentos e tutoriais." };

                if (text.match(/(carrinho|minha cesta|pagar)/)) 
                    return { action: 'NAV', target: 'cart', msg: "A abrir o seu carrinho de compras." };

                // 2. BUSCA INTELIGENTE DE PRODUTOS (Dados Reais)
                // Verifica se o texto cont√©m o nome exato ou categoria de um produto no banco de dados
                const foundProduct = products.find(p => text.includes(p.name.toLowerCase()) || (p.category && text.includes(p.category.toLowerCase().slice(0, -1))));
                
                if (foundProduct) {
                    this.lastContext = 'product';
                    return { 
                        action: 'ADD_CART_BTN', 
                        id: foundProduct.id,
                        msg: `Sim! Temos <strong>${foundProduct.name}</strong> dispon√≠vel na categoria ${foundProduct.category}.<br>O pre√ßo √© <strong>${foundProduct.price} Kz</strong>.` 
                    };
                }

                // Busca Gen√©rica (Ex: "tem batom?")
                const searchTerms = ['batom', 'base', 'p√≥', 'r√≠mel', 'croch√™', 'biqu√≠ni', 'sa√≠da', 'skincare', 'perfume', 'pincel', 'roupa', 'vestido', 'tran√ßa'];
                const matchedTerm = searchTerms.find(t => text.includes(t));
                if (matchedTerm) {
                    return { 
                        action: 'FILTER_SHOP', 
                        term: matchedTerm, 
                        msg: `Temos v√°rias op√ß√µes de ${matchedTerm}! Vou filtrar a loja para voc√™ ver tudo agora.` 
                    };
                }

                // 3. INFORMA√á√ïES DE SERVI√áOS E AGENDAMENTO
                if (text.includes('agendar') || text.includes('marcar')) {
                    return { action: 'NAV', target: 'booking', msg: "Claro! Vou abrir a agenda. Pode escolher o servi√ßo e indicar a sua localiza√ß√£o exata." };
                }

                const foundService = services.find(s => text.includes(s.title.toLowerCase()) || (text.includes('curso') && s.title.toLowerCase().includes('curso')));
                if (foundService) {
                    return { 
                        action: 'NAV_SERVICE', // Poderia levar para booking pr√©-selecionado
                        msg: `O <strong>${foundService.title}</strong> custa <strong>${foundService.price} Kz</strong>.<br>${foundService.desc}<br>Quer agendar agora?` 
                    };
                }

                // 4. SUPORTE OPERACIONAL (A "Patr√≠cia" n√£o erra aqui)
                if (text.match(/(entrega|envio|chega em|prov√≠ncia|benguela|hu√≠la)/)) 
                    return { msg: "<strong>Entregas:</strong><br>‚Ä¢ Luanda: Via moto-t√°xi (taxa por zona).<br>‚Ä¢ Prov√≠ncias: Via transportadora (levantamento no terminal local)." };
                
                if (text.match(/(pagamento|pagar|iban|transfer√™ncia|dinheiro|multicaixa)/)) 
                    return { msg: "<strong>Pagamento:</strong><br>Aceitamos Transfer√™ncia (IBAN), Multicaixa Express e Pagamento na Entrega (exclusivo para o centro de Luanda)." };
                
                if (text.match(/(onde|local|endere√ßo|fica|loja f√≠sica)/)) 
                    return { msg: "Somos uma loja 100% online com base log√≠stica em Luanda Sul. N√£o temos atendimento presencial, mas entregamos onde estiveres! üõµ" };

                // 5. PERSONALIDADE E SOCIAL
                if (text.match(/(ol√°|oi|bom dia|boa tarde|boa noite|eai)/)) 
                    return { msg: "Ol√°! üëã Sou a Patr√≠cia Virtual. Conhe√ßo todo o stock e agenda. Posso ajudar a encontrar um produto, marcar uma maquilhagem ou tirar d√∫vidas!" };
                
                if (text.match(/(obrigado|obrigada|valeu|grata|top|fixe)/)) 
                    return { msg: "De nada! √â um prazer ajudar a real√ßar a tua beleza. ‚ú®" };
                
                if (text.match(/(quem √©s|quem √© voc√™|rob√¥)/)) 
                    return { msg: "Sou a assistente inteligente do ecossistema Patr√≠cia Pattas. N√£o durmo, n√£o como, mas adoro maquilhagem e croch√™! üòÑ" };

                // 6. DEFAULT (Fallback Inteligente)
                return { 
                    msg: "Ainda estou a aprender sobre isso. Tenta perguntar algo como:<br>‚Ä¢ 'Pre√ßo do curso'<br>‚Ä¢ 'Tem base matte?'<br>‚Ä¢ 'Como pagar'<br>‚Ä¢ 'Quero agendar'" 
                };
            }
        };

        function toggleChat() {
            const win = document.getElementById('chat-window');
            win.classList.toggle('hidden');
            if(!win.classList.contains('hidden') && chatHistory.length === 0) {
                addBotMessage("Ol√°! Sou a assistente virtual da Patr√≠cia. Estou conectada a todo o site. Pergunte sobre produtos, servi√ßos ou entregas! üòä");
            }
        }

        function sendMessage() {
            const input = document.getElementById('chat-input');
            const text = input.value.trim();
            if(!text) return;
            addUserMessage(text);
            input.value = '';
            
            // Simula tempo de "pensamento"
            const typingDiv = document.createElement('div');
            typingDiv.className = 'chat-bubble chat-bot italic text-gray-400 text-xs';
            typingDiv.id = 'typing-indicator';
            typingDiv.innerText = 'A digitar...';
            document.getElementById('chat-messages').appendChild(typingDiv);
            scrollToBottom();

            setTimeout(() => {
                const indicator = document.getElementById('typing-indicator');
                if(indicator) indicator.remove();
                processUserMessage(text);
            }, 800);
        }

        function processUserMessage(text) {
            // Usa o C√©rebro da Patr√≠cia para decidir
            const decision = PatriciaBrain.analyze(text);
            
            let htmlResponse = decision.msg;

            // Executa A√ß√µes Baseadas na Decis√£o
            if (decision.action === 'NAV') {
                router(decision.target);
            } 
            else if (decision.action === 'ADD_CART_BTN') {
                htmlResponse += `<br><button onclick="addToCart(${decision.id})" class="mt-2 bg-primary text-white px-4 py-2 rounded-full text-xs font-bold shadow hover:bg-primaryDark transition">Adicionar ao Carrinho üõí</button>`;
            }
            else if (decision.action === 'FILTER_SHOP') {
                router('shop');
                setTimeout(() => {
                    document.getElementById('searchProduct').value = decision.term;
                    filterProducts(); // Dispara o filtro real da loja
                }, 500);
            }
            
            addBotMessage(htmlResponse);
        }

        function addUserMessage(text) {
            const div = document.createElement('div');
            div.className = 'chat-bubble chat-user';
            div.innerText = text;
            document.getElementById('chat-messages').appendChild(div);
            scrollToBottom();
        }

        function addBotMessage(html) {
            const div = document.createElement('div');
            div.className = 'chat-bubble chat-bot';
            div.innerHTML = html; 
            document.getElementById('chat-messages').appendChild(div);
            scrollToBottom();
        }

        function scrollToBottom() {
            const container = document.getElementById('chat-messages');
            container.scrollTop = container.scrollHeight;
        }

        function toggleMobileMenu() {
            const menu = document.getElementById('mobile-menu');
            menu.classList.toggle('hidden');
        }
        
        function filterProducts() {
            const term = document.getElementById('searchProduct').value.toLowerCase();
            const category = document.getElementById('categorySelect').value;
            const grid = document.getElementById('product-grid');
            const cards = grid.getElementsByClassName('category-item');
            
            let foundCount = 0;
            Array.from(cards).forEach(card => {
                const title = card.querySelector('h3').innerText.toLowerCase();
                const cardCategory = card.getAttribute('data-category');
                const matchesTerm = title.includes(term);
                const matchesCategory = category === 'all' || cardCategory === category;
                if(matchesTerm && matchesCategory) { 
                    card.style.display = 'flex'; 
                    foundCount++;
                } else { 
                    card.style.display = 'none'; 
                }
            });
        }

        // NOVAS FUN√á√ïES PARA PARTILHA DE ARTIGOS - IMPLEMENTA√á√ÉO 2
        function shareArticleWhatsApp(title, id) {
            // Link placeholder que inclui o ID do artigo, para ser substitu√≠do pelo link real posteriormente
            const linkPlaceholder = `https://patriciapattas.com/blog/${id}`;
            const text = `*${title}* \n\nLeitura recomendada no site da Patr√≠cia Pattas! \nLeia mais aqui: ${linkPlaceholder}`;
            window.open(`https://wa.me/?text=${encodeURIComponent(text)}`, '_blank');
        }

        function shareArticleFacebook() {
            const url = window.location.href; 
            window.open(`https://www.facebook.com/sharer/sharer.php?u=${encodeURIComponent(url)}`, '_blank');
        }

        // --- FUN√á√ïES DO LIGHTBOX (NOVO) ---
        function openLightbox(src) {
            const lb = document.getElementById('lightbox');
            const img = document.getElementById('lightbox-img');
            
            img.src = src;
            document.body.classList.add('lightbox-open'); // Previne scroll no fundo
            lb.classList.remove('hidden');
            
            // Timeout pequeno para permitir que o display:block seja processado antes da transi√ß√£o de opacidade
            setTimeout(() => {
                lb.classList.remove('opacity-0');
                img.classList.remove('scale-95');
                img.classList.add('scale-100');
            }, 10);
        }

        function closeLightbox() {
            const lb = document.getElementById('lightbox');
            const img = document.getElementById('lightbox-img');
            
            lb.classList.add('opacity-0');
            img.classList.remove('scale-100');
            img.classList.add('scale-95');
            
            setTimeout(() => {
                lb.classList.add('hidden');
                document.body.classList.remove('lightbox-open');
                img.src = ''; // Limpa a imagem
            }, 300); // Tempo igual ao da transi√ß√£o CSS
        }

        document.addEventListener('DOMContentLoaded', () => {
            router('home');
            updateCartCount();
        });

    </script>
</body>
</html>           
